!function(e){function t(t){for(var r,a,l=t[0],c=t[1],s=t[2],u=0,d=[];u<l.length;u++)a=l[u],i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(p&&p(t);d.length;)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={0:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="http://localhost:3000/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var p=c;o.push([153,1]),n()}({104:function(e,t){e.exports=require("os")},105:function(e){e.exports=[{name:"日向坂46",color:"rgb(81, 182, 224)",members:["井口眞緒","潮紗理菜","柿崎芽実","影山優佳","加藤史帆","齊藤京子","佐々木久美","佐々木美玲","高瀬愛奈","高本彩花","東村芽依","金村美玖","河田陽菜","小坂菜緒","富田鈴花","丹生明里","濱岸ひより","松田好花","宮田愛萌","渡邉美穂","上村ひなの"]},{name:"欅坂46",color:"rgb(84, 176, 74)",members:["石森虹花","上村莉菜","尾関梨香","織田奈那","小池美波","小林由依","齋藤冬優花","佐藤詩織","菅井友香","鈴本美愉","長沢菜々香","長濱ねる","土生瑞穂","原田葵","平手友梨奈","守屋茜","渡辺梨加","渡邉理佐","井上梨名","関有美子","武元唯衣","田村保乃","藤吉夏鈴","松田里奈","松平璃子","森田ひかる","山﨑天"]},{name:"乃木坂46",color:"rgb(118, 37, 133)",members:["秋元真夏","生田絵梨花","伊藤かりん","伊藤純奈","伊藤理々杏","井上小百合","岩本蓮加","梅澤美波","衛藤美彩","大園桃子","北野日奈子","久保史緒里","齋藤飛鳥","斉藤優里","阪口珠美","桜井玲香","佐々木琴子","佐藤楓","白石麻衣","新内眞衣","鈴木絢音","高山一実","寺田蘭世","中田花奈","中村麗乃","樋口日奈","星野みなみ","堀未央奈","松村沙友理","向井葉月","山崎怜奈","山下美月","吉田綾乃クリスティー","与田祐希","渡辺みり愛","和田まあや","遠藤さくら","賀喜遥香","掛橋沙耶香","金川紗耶","北川悠理","柴田柚菜","清宮レイ","田村真佑","筒井あやめ","早川聖来","矢久保美緒"]}]},13:function(e,t){e.exports=require("path")},138:function(e,t){e.exports=require("assert")},153:function(e,t,n){n(154),e.exports=n(320)},320:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(147),a=n.n(o),l=n(152);n(325);const c=document.querySelector("main");(()=>{const{default:e}=n(394);a.a.render(i.a.createElement(l.AppContainer,null,i.a.createElement(e,null)),c)})()},325:function(e,t,n){var r=n(326);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,i);r.locals&&(e.exports=r.locals)},326:function(e,t,n){(e.exports=n(59)(!1)).push([e.i,"html,\nbody,\nmain {\n  width: 100%;\n  height: 100%; }\n\nbody {\n  margin: 0; }\n",""])},329:function(e,t){},330:function(e,t,n){var r=n(331);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,i);r.locals&&(e.exports=r.locals)},331:function(e,t,n){(t=e.exports=n(59)(!1)).push([e.i,".Icon__base_3g10g {\n  background-color: white;\n  display: inline-block;\n  border-radius: 50%;\n  background-size: cover !important; }\n",""]),t.locals={base:"Icon__base_3g10g"}},332:function(e,t,n){var r=n(333);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,i);r.locals&&(e.exports=r.locals)},333:function(e,t,n){(t=e.exports=n(59)(!1)).push([e.i,".Article__base_NMfYn {\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2); }\n\n.Article__header_1gDcy {\n  background-color: gray;\n  color: white;\n  padding: 16px;\n  display: flex;\n  align-items: center; }\n  .Article__header_1gDcy > :first-child {\n    margin-right: 8px; }\n\n.Article__title-outer_2-hYC {\n  flex: 1; }\n\n.Article__title_1rWrU {\n  font-size: 20px;\n  font-weight: bold; }\n\n.Article__content_14w4Q {\n  padding: 0 16px 16px;\n  position: relative; }\n  .Article__content_14w4Q img {\n    max-width: 100%;\n    display: block; }\n\n.Article__check_TeUES {\n  position: absolute;\n  right: 16px;\n  bottom: 16px;\n  cursor: pointer; }\n",""]),t.locals={base:"Article__base_NMfYn",header:"Article__header_1gDcy","title-outer":"Article__title-outer_2-hYC",title:"Article__title_1rWrU",content:"Article__content_14w4Q",check:"Article__check_TeUES"}},336:function(e,t,n){var r=n(337);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,i);r.locals&&(e.exports=r.locals)},337:function(e,t,n){(t=e.exports=n(59)(!1)).push([e.i,".FilterChild__base_2J_Ov {\n  margin-bottom: 8px; }\n\n.FilterChild__header_2aiVM {\n  font-weight: bold;\n  cursor: pointer; }\n  .FilterChild__header_2aiVM i {\n    vertical-align: middle; }\n\n.FilterChild__group-name_9MVZT {\n  margin-right: 4px; }\n\n.FilterChild__members_2ZHSu {\n  display: flex;\n  flex-wrap: wrap; }\n\n.FilterChild__member_23srA {\n  display: flex;\n  align-items: center;\n  margin-right: 8px;\n  margin-bottom: 8px;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n  padding: 4px;\n  border-radius: 4px;\n  cursor: pointer; }\n  .FilterChild__member_23srA > :first-child {\n    margin-right: 4px; }\n",""]),t.locals={base:"FilterChild__base_2J_Ov",header:"FilterChild__header_2aiVM","group-name":"FilterChild__group-name_9MVZT",members:"FilterChild__members_2ZHSu",member:"FilterChild__member_23srA"}},339:function(e,t){e.exports=require("constants")},341:function(e,t){e.exports=require("stream")},343:function(e,t){e.exports=require("util")},391:function(e,t,n){var r=n(392);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,i);r.locals&&(e.exports=r.locals)},392:function(e,t,n){(t=e.exports=n(59)(!1)).push([e.i,'@charset "UTF-8";\n.App__base_2Rw2G {\n  font-family: Helvetica Neue, Helvetica, Arial, ヒラギノ角ゴ Pro W3, Hiragino Kaku Gothic Pro, メイリオ, Meiryo, ＭＳ\\ Ｐゴシック, MS PGothic, sans-serif;\n  padding-bottom: 16px; }\n\n.App__header_JmRlO {\n  background-color: #e91e63;\n  color: white;\n  font-weight: bold;\n  font-size: 40px;\n  padding: 16px;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n  margin-bottom: 16px; }\n\n.App__content_1uEw- {\n  width: 960px;\n  margin-left: auto;\n  margin-right: auto; }\n\n.App__articles_20Ayi > div {\n  margin-bottom: 16px; }\n\n.App__filter_2c7OL {\n  width: 960px;\n  margin-bottom: 16px; }\n\n.App__loading_3BL_j {\n  text-align: center; }\n  .App__loading_3BL_j > div {\n    display: inline-block; }\n',""]),t.locals={base:"App__base_2Rw2G",header:"App__header_JmRlO",content:"App__content_1uEw-",articles:"App__articles_20Ayi",filter:"App__filter_2c7OL",loading:"App__loading_3BL_j"}},394:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),o=n(25),a=n(6),l=n.n(a),c=n(148),s=n(105);const p=new DOMParser,u=new c.a,d=async e=>await fetch(e).then(e=>{const{ok:t}=e;if(t)return e;throw new Error(e)}).then(e=>e.text()),h=async(e=0)=>l.a.sortBy(l.a.concat(await _(e),await m(e)),({date:e})=>e),m=async e=>{const t=await d(`http://localhost:46001/nogi?page=${e+1}`),n=p.parseFromString(t,"text/html"),r=n.querySelectorAll(".author"),i=n.querySelectorAll("h1 .entrytitle"),o=n.querySelectorAll(".entrybody"),a=n.querySelectorAll(".entrybottom"),{length:l}=a,c=[];for(let e=0;e<l;e+=1)c.push({date:new Date(a[e].childNodes[0].nodeValue.slice(0,-1)),title:i[e].innerText,name:r[e].innerText.replace(/\s/g,""),content:u.turndown(o[e].innerHTML).trim()});return c},_=async e=>{const t=await d(`http://localhost:46001/keyaki?page=${e}`);return l.a.map(p.parseFromString(t,"text/html").querySelectorAll("article"),e=>{const{innerText:t}=e.querySelector(".box-bottom li"),{innerText:n}=e.querySelector("h3"),{innerText:r}=e.querySelector(".name");return{date:new Date(t),title:n.trim(),name:r.replace(/\s/g,""),content:u.turndown(e.querySelector(".box-article").innerHTML).trim()}})};const g=new class{json(){return s}getGroupColorFromMember(e){let t=null;return l.a.forEach(s,({members:n,color:r})=>{l.a.includes(n,e)&&(t=r)}),t}toMemberIconPath(e){return`assets/icons/${e}.jpg`}},f=e=>{const{name:t,title:n}=e;return`${t}-${n}`};var b=n(149),y=n(150),v=n.n(y);n(330);var w,x=class extends r.Component{render(){const{props:{name:e,size:t=48}}=this;return i.a.createElement("i",{className:"Icon__base_3g10g",style:{background:`url("${g.toMemberIconPath(e)}") no-repeat`,width:t,height:t}})}},k=n(54);n(332);function C(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var A,O=(C((w=class extends r.Component{constructor(){super(),this.state={hoverOnCheck:!1},this.$base=Object(r.createRef)()}onMouseLeave(){this.setState({hoverOnCheck:!1})}onMouseEnter(){this.setState({hoverOnCheck:!0})}onClickCheck(e){const{props:{onClickCheck:t}}=this,{$base:{current:{offsetTop:n}}}=this,{currentTarget:{dataset:{key:r}}}=e;t(r),this.setState({hoverOnCheck:!1}),scroll({top:n})}render(){const{props:{article:e,checkedList:t},state:{hoverOnCheck:n}}=this,{title:r,name:o,date:a,content:c}=e,s=g.getGroupColorFromMember(o),p=l.a.includes(t,f(e));return i.a.createElement("div",{className:"Article__base_NMfYn",ref:this.$base},i.a.createElement("div",{className:"Article__header_1gDcy",style:{backgroundColor:s}},i.a.createElement("div",null,i.a.createElement(x,{name:o,size:43})),i.a.createElement("div",{className:"Article__title-outer_2-hYC"},i.a.createElement("div",null,b.a.format(a,"YY/MM/DD HH:mm:ss")),i.a.createElement("div",{className:"Article__title_1rWrU"},r)),p?i.a.createElement(k.GoCheck,{size:36,fill:"white",onClick:this.onClickCheck,"data-key":f(e)}):null),p?null:i.a.createElement("div",{className:"Article__content_14w4Q"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:v()(c)}}),i.a.createElement(k.GoCheck,{size:36,className:"Article__check_TeUES",fill:n?s:"lightgray",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClickCheck,"data-key":f(e)})))}}).prototype,"onMouseLeave",[o.a],Object.getOwnPropertyDescriptor(w.prototype,"onMouseLeave"),w.prototype),C(w.prototype,"onMouseEnter",[o.a],Object.getOwnPropertyDescriptor(w.prototype,"onMouseEnter"),w.prototype),C(w.prototype,"onClickCheck",[o.a],Object.getOwnPropertyDescriptor(w.prototype,"onClickCheck"),w.prototype),w);n(336);function E(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let S=(E((A=class extends r.Component{constructor(){super(),this.state={open:!1}}onClick(e){const{currentTarget:{dataset:{name:t}}}=e,{props:{onClick:n}}=this;n(t)}onClickHeader(){this.setState(({open:e})=>({open:!e}))}render(){const{props:{json:{name:e,members:t,color:n},following:r},state:{open:o}}=this;return i.a.createElement("div",{className:"FilterChild__base_2J_Ov"},i.a.createElement("div",{style:{color:n},className:"FilterChild__header_2aiVM",onClick:this.onClickHeader},o?i.a.createElement(k.GoTriangleDown,null):i.a.createElement(k.GoTriangleRight,null),i.a.createElement("span",{className:"FilterChild__group-name_9MVZT"},e),o?null:l.a.map(t,(e,t)=>l.a.includes(r,e)?i.a.createElement(x,{name:e,size:24,key:t}):null)),i.a.createElement("div",{className:"FilterChild__members_2ZHSu"},o?l.a.map(t,(e,t)=>i.a.createElement("div",{onClick:this.onClick,key:t,"data-name":e,className:"FilterChild__member_23srA",style:{opacity:l.a.includes(r,e)?1:.5}},i.a.createElement(x,{name:e,size:36}),i.a.createElement("span",null,e))):null))}}).prototype,"onClick",[o.a],Object.getOwnPropertyDescriptor(A.prototype,"onClick"),A.prototype),E(A.prototype,"onClickHeader",[o.a],Object.getOwnPropertyDescriptor(A.prototype,"onClickHeader"),A.prototype),A);var M,j=n(62),z=n.n(j),N=n(104),P=n.n(N),F=n(13),L=n.n(F),T=n(151);n(391);function D(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const q=L.a.join(P.a.homedir(),".anyzaka");let H=(D((M=class extends r.Component{constructor(){super(),this.page=0,this.$loading=Object(r.createRef)(),this.state={articles:[],following:[],checked:[],loading:!0},(async()=>{await z.a.exists(q)||await z.a.writeJSON(q,{checked:[],following:[]});const{following:e,checked:t}=await z.a.readJSON(q);await this.setStateAsync({following:e,checked:t}),await this.loadAndAddArticles()})().catch(console.error)}componentDidMount(){this.watchLoading()}async setStateAsync(e){return new Promise(t=>{this.setState(e,t)})}async loadAndAddArticles(){const{state:{articles:e},page:t}=this;await this.setStateAsync({articles:l.a.concat(e,await h(t))}),this.page+=1,await this.setStateAsync({loading:!1})}async writeState(){const{state:{following:e,checked:t}}=this;await z.a.writeJSON(q,{following:e,checked:t})}watchLoading(){const{$loading:{current:e},state:{loading:t}}=this,{top:n}=e.getBoundingClientRect();innerHeight>=n&&!t?(async()=>{await this.loadAndAddArticles()})().catch(console.error).finally(()=>{requestAnimationFrame(this.watchLoading)}):requestAnimationFrame(this.watchLoading)}onScroll(){const{state:{loading:e}}=this,{documentElement:{scrollHeight:t}}=document;scrollY!==t-innerHeight||e||this.setState({loading:!0},this.loadAndAddArticles)}onClickMember(e){const{state:{following:t}}=this;(async()=>{await this.setStateAsync({following:l.a.includes(t,e)?l.a.pull(t,e):l.a.concat(t,e)}),await this.writeState()})().catch(console.error)}onClickCheck(e){const{state:{checked:t}}=this;(async()=>{await this.setStateAsync({checked:l.a.includes(t,e)?l.a.pull(t,e):l.a.concat(t,e)}),await this.writeState()})().catch(console.error)}render(){const{state:{articles:e,following:t,checked:n}}=this;return i.a.createElement("div",{className:"App__base_2Rw2G"},i.a.createElement("div",{className:"App__header_JmRlO"},"推しのブログみるやつ"),i.a.createElement("div",{className:"App__content_1uEw-"},i.a.createElement("div",{className:"App__filter_2c7OL"},l.a.map(g.json(),(e,n)=>i.a.createElement(S,{json:e,key:n,following:t,onClick:this.onClickMember}))),i.a.createElement("div",{className:"App__articles_20Ayi"},l.a.map(e,(e,r)=>{const{name:o}=e;return l.a.includes(t,o)?i.a.createElement(O,{checkedList:n,article:e,key:r,onClickCheck:this.onClickCheck}):null}))),i.a.createElement("div",{className:"App__loading_3BL_j",ref:this.$loading},i.a.createElement(T.BeatLoader,null)))}}).prototype,"watchLoading",[o.a],Object.getOwnPropertyDescriptor(M.prototype,"watchLoading"),M.prototype),D(M.prototype,"onScroll",[o.a],Object.getOwnPropertyDescriptor(M.prototype,"onScroll"),M.prototype),D(M.prototype,"onClickMember",[o.a],Object.getOwnPropertyDescriptor(M.prototype,"onClickMember"),M.prototype),D(M.prototype,"onClickCheck",[o.a],Object.getOwnPropertyDescriptor(M.prototype,"onClickCheck"),M.prototype),M);t.default=H},75:function(e,t){e.exports=require("fs")}});