!function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],p=0,u=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(d&&d(t);u.length;)u.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={0:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="http://localhost:3000/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([323,1]),a()}({110:function(e,t){e.exports=require("fs")},123:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var r=a(5),n=a.n(r),o=a(14),i=a(8),s=a.n(i),c=a(34),l=a.n(c),d=a(9),p=a.n(d),u=a(29),m=a(71);class h extends(Object(u.b)({slopes:Object(u.a)()})){static async mergeExtraBlogs(e,t){const a={},r={line:{name:"LINE BLOG",color:"rgb(90, 196, 127)",fetcher:"LineBlog",page:1}};for(const e of n.a.keys(t))if(!n.a.has(a,e)){a[e]=n.a.merge({_ids:[],_key:e,_optionsList:[],members:[],extra:!0},r[e]);for(let i of t[e]){"string"==typeof i&&(i=[i,{}]);const[t,c]=i,{url:d,name:u}=await m[r[e].fetcher].idToImageUrlAndName(t),{body:h,headers:g}=await l()({url:d,encoding:null,resolveWithFullResponse:!0});await p.a.writeFile(s.a.join(o.e,`${u}.jpg`),h),a[e]._optionsList.push(n.a.merge({multi:1,filters:[]},c)),a[e]._ids.push(t),a[e].members.push({name:u,lastModified:g["last-modified"]})}}return n.a.forEach(n.a.values(a),t=>{(e=n.a.filter(e,({name:e})=>e!==t)).push(t)}),e}getGroupColorFromMember(e){const{slopes:t}=this,{size:a}=t;let r=null;for(let o=0;o<a;o+=1){const a=t.get(o);if(a.get("members").find(t=>n.a.replace(t.get("name"),/\s/,"")===n.a.replace(e,/\s/,""))){r=a.get("color");break}}return r}toMemberIconPath(e){const{slopes:t}=this,{size:a}=t;let r=s.a.join(o.f,"fallback.png");for(let i=0;i<a;i+=1){const a=t.get(i),c=a.get("members").find(t=>n.a.replace(t.get("name"),/\s/,"")===n.a.replace(e,/\s/,""));if(c){const e=s.a.join(a.get("extra")?o.e:o.f,`${c.get("name")}.jpg`);p.a.existsSync(e)&&(r=e);break}}return r}}},138:function(e,t){e.exports=require("net")},139:function(e,t){e.exports=require("http")},14:function(e,t,a){"use strict";a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return f}));var r=a(94),n=a(8),o=a.n(n),i=a(144),s=a.n(i);const{env:{NODE_ENV:c}}=process,l=o.a.join(void 0===r.remote?process.cwd():r.remote.app.getAppPath(),"app/dst"),d=o.a.join(s.a.homedir(),".anyzaka"),p=o.a.join(l,"assets/icons"),u=o.a.join(p,"extra"),m=o.a.join(d,"extra-blogs.json"),h="development"===c,g=(o.a.join(l,"../../src/models/anyslope.json"),o.a.join(d,"extra-blogs.cache.json")),f=o.a.join(d,"anyslope.cache.json")},144:function(e,t){e.exports=require("os")},18:function(e,t){e.exports=require("util")},184:function(e,t){e.exports=require("punycode")},186:function(e,t){e.exports=require("https")},187:function(e,t){e.exports=require("querystring")},21:function(e,t){e.exports=require("crypto")},260:function(e,t){e.exports=require("buffer")},267:function(e,t){e.exports=require("tls")},316:function(e){e.exports=JSON.parse('[{"name":"乃木坂46","color":"rgb(118, 37, 133)","members":[{"name":"秋元 真夏","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"生田 絵梨花","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"伊藤 純奈","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"伊藤 理々杏","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"井上 小百合","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"岩本 蓮加","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"梅澤 美波","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"大園 桃子","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"北野 日奈子","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"久保 史緒里","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"齋藤 飛鳥","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"阪口 珠美","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"佐々木 琴子","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"佐藤 楓","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"白石 麻衣","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"新内 眞衣","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"鈴木 絢音","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"高山 一実","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"寺田 蘭世","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"中田 花奈","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"中村 麗乃","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"樋口 日奈","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"星野 みなみ","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"堀 未央奈","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"松村 沙友理","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"向井 葉月","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"山崎 怜奈","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"山下 美月","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"吉田 綾乃 クリスティー","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"与田 祐希","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"渡辺 みり愛","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"和田 まあや","lastModified":"Wed, 25 Mar 2020 00:24:42 GMT"},{"name":"４期生","lastModified":"Wed, 17 Apr 2019 09:31:59 GMT"},{"name":"運営スタッフ","lastModified":0}],"extra":false,"page":1,"fetcher":"Nogi"},{"name":"欅坂46","color":"rgb(84, 176, 74)","members":[{"name":"石森 虹花","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"上村 莉菜","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"尾関 梨香","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"小池 美波","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"小林 由依","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"齋藤 冬優花","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"佐藤 詩織","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"菅井 友香","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"長沢 菜々香","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"土生 瑞穂","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"原田 葵","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"守屋 茜","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"渡辺 梨加","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"渡邉 理佐","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"井上 梨名","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"関 有美子","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"武元 唯衣","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"田村 保乃","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"藤吉 夏鈴","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"松田 里奈","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"松平 璃子","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"森田 ひかる","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"山﨑 天","lastModified":"Mon, 06 Apr 2020 09:46:02 GMT"},{"name":"欅坂46 新二期生","lastModified":"Wed, 19 Dec 2018 12:29:26 GMT"}],"extra":false,"page":0,"fetcher":"Keyaki"},{"name":"日向坂46","color":"rgb(81, 182, 224)","members":[{"name":"潮 紗理菜","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"影山 優佳","lastModified":"Mon, 06 Apr 2020 09:46:03 GMT"},{"name":"加藤 史帆","lastModified":"Mon, 06 Apr 2020 09:46:03 GMT"},{"name":"齊藤 京子","lastModified":"Mon, 06 Apr 2020 09:46:03 GMT"},{"name":"佐々木 久美","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"佐々木 美玲","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"高瀬 愛奈","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"高本 彩花","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"東村 芽依","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"金村 美玖","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"河田 陽菜","lastModified":"Mon, 06 Apr 2020 09:46:03 GMT"},{"name":"小坂 菜緒","lastModified":"Mon, 06 Apr 2020 09:46:03 GMT"},{"name":"富田 鈴花","lastModified":"Mon, 06 Apr 2020 09:46:03 GMT"},{"name":"丹生 明里","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"濱岸 ひより","lastModified":"Mon, 06 Apr 2020 09:46:03 GMT"},{"name":"松田 好花","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"宮田 愛萌","lastModified":"Mon, 06 Apr 2020 09:46:03 GMT"},{"name":"渡邉 美穂","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"},{"name":"上村 ひなの","lastModified":"Mon, 06 Apr 2020 09:46:03 GMT"},{"name":"日向坂46 新三期生","lastModified":"Mon, 06 Apr 2020 09:46:04 GMT"}],"extra":false,"page":0,"fetcher":"Hinata"}]')},323:function(e,t,a){a(324),e.exports=a(722)},36:function(e,t){e.exports=require("url")},519:function(e,t){e.exports=require("constants")},560:function(e,t){e.exports=require("zlib")},6:function(e,t,a){"use strict";var r=a(724),n=a(9),o=a.n(n),i=a(123),s=a(14),c=a(8),l=a.n(c),d=a(71),p=a(5),u=a.n(p),m=a(73),h=a(49),g=a.n(h),f=a(316);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.a=Object(r.a)({INIT:async()=>{const e=await o.a.readFile(s.d,{encoding:"utf-8"}),t=JSON.parse(e),a=await o.a.readJson(s.b,{encoding:"utf-8"});let r=null;u.a.isEqual(t,a)?r=await o.a.readJson(s.a):(await o.a.exists(s.e)&&await o.a.remove(s.e),await o.a.mkdir(s.e),await o.a.writeJson(s.b,t),r=await i.a.mergeExtraBlogs(f,t),await o.a.writeJson(s.a,r)),r=u.a.map(r,e=>e.extra?u.a.update(e,"_optionsList",e=>u.a.map(e,e=>u.a.update(e,"filters",e=>u.a.map(e,([e,t])=>[e,new RegExp(t)])))):e);const n=[];if(s.g){const e=l.a.join(process.cwd(),"src/test-htmls");for(const t of await o.a.readdir(e))n.push(...u.a.map(await d[u.a.split(t,".")[0]].parse(await o.a.readFile(l.a.join(e,t),{encoding:"utf-8"})),e=>new m.a(y({},e,{debug:!0,date:g()()}))))}return{extraBlogsText:e,initSlopes:r,debugArticles:n}}},"ADD_ARTICLES","START_TO_LOAD_ARTICLES","SET_FILTER","TOGGLE_CHECKED","TOGGLE_FOLLOWING","SHOW_ARTICLE","SET_PREFERENCES_STATE","UPDATE_PREFERENCES","SET_SEARCH_VISIBLE","UPDATE_SEARCH_QUERY","UPDATE_PARSED_QUERY","CAN_LOAD_ARTICLES","UPDATE_OTHER_BLOGS")},660:function(e,t){e.exports=require("events")},671:function(e,t){},71:function(e,t,a){"use strict";a.r(t),a.d(t,"LineBlog",(function(){return M})),a.d(t,"Nogi",(function(){return w})),a.d(t,"Keyaki",(function(){return O})),a.d(t,"Hinata",(function(){return x}));var r=a(5),n=a.n(r),o=a(34),i=a.n(o),s=a(73),c=a(74),l=a(36),d=a.n(l),p=a(49),u=a.n(p),m=a(315),h=a.n(m);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const y=new DOMParser;class M{}b(M,"getURL",e=>`https://lineblog.me/${e}`),b(M,"idToImageUrlAndName",async e=>{const t=await i()(M.getURL(e)),a=y.parseFromString(t,"text/html");return{name:a.querySelector("h2").innerText,url:a.querySelector(".profile-photo-thumbnail img").src}}),b(M,"parse",async e=>{const t=y.parseFromString(e,"text/html"),a=[];for(const e of t.querySelectorAll(".article")){const r=e.querySelector(".article-title a"),n=e.querySelector(".article-body");a.push({date:u()(e.querySelector(".article-date").innerText),title:r.innerText,author:t.querySelector(".profile-photo h2").innerText,content:n.innerText,html:await c.b.simplify(n),url:r.href})}return a}),b(M,"fetch",async e=>{const t=[],a=e.get("_ids"),{size:r}=a,o=e.get("page");for(let c=0;c<r;c+=1){const r=e.getIn(["_optionsList",c]),l=r.get("multi"),d=r.get("filters");for(let e=0;e<l;e+=1)t.push(...n.a.map(await M.parse(await i()(h()(M.getURL(a.get(c)),`?p=${o+(o-1)*l+e}`))),e=>new s.a(f({},e,{filtered:d.some(t=>null===e[t.get(0)].match(t.get(1)))}))))}return t});class w{}b(w,"parse",async e=>{const t=y.parseFromString(e,"text/html"),a=t.querySelectorAll(".author"),r=t.querySelectorAll("h1 .entrytitle"),n=t.querySelectorAll(".entrybody"),o=t.querySelectorAll(".entrybottom"),i=t.querySelectorAll("#siderecententry .inner li:not(.last) a"),{length:s}=o,l=[];for(let e=0;e<s;e+=1){const t=n[e];l.push({date:u()(o[e].childNodes[0].nodeValue.slice(0,-1)),title:r[e].innerText,author:a[e].innerText.trim(),html:await c.b.simplify(t),content:t.innerText,url:(i[e]?i[e]:r[e].querySelector("a")).href})}return l}),b(w,"fetch",async e=>n.a.map(await w.parse(await i()(`http://blog.nogizaka46.com/?p=${e.get("page")}`)),e=>new s.a(e)));class O{}b(O,"BASE_URL","http://www.keyakizaka46.com"),b(O,"parse",async e=>{const t=[];for(const a of y.parseFromString(e,"text/html").querySelectorAll("article")){const{innerText:e}=a.querySelector(".box-bottom li"),r=a.querySelector("h3"),{innerText:o}=a.querySelector(".name"),i=a.querySelector(".box-article");t.push({date:u()(e),title:r.innerText.trim(),author:o.trim(),html:await c.b.simplify(i),content:i.innerText,url:d.a.resolve(O.BASE_URL,n.a.get(r.querySelector("a"),"pathname")||"")})}return t}),b(O,"fetch",async e=>n.a.map(await O.parse(await i()(d.a.resolve(O.BASE_URL,`/s/k46o/diary/member/list?page=${e.get("page")}`))),e=>new s.a(e)));class x{}b(x,"BASE_URL","https://www.hinatazaka46.com"),b(x,"parse",async e=>{const t=[];for(const a of y.parseFromString(e,"text/html").querySelectorAll(".p-blog-article")){const e=a.querySelector(".c-blog-article__text");t.push({date:u()(a.querySelector(".c-blog-article__date").innerText),title:a.querySelector(".c-blog-article__title").innerText.trim(),author:a.querySelector(".c-blog-article__name").innerText.trim(),html:await c.b.simplify(e),content:e.innerText,url:d.a.resolve(x.BASE_URL,a.querySelector(".c-button-blog-detail").pathname)})}return t}),b(x,"fetch",async e=>n.a.map(await x.parse(await i()(d.a.resolve(x.BASE_URL,`/s/official/diary/member/list?page=${e.get("page")}`))),e=>new s.a(e)))},722:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(103),i=a.n(o),s=a(321),c=a(23),l=a(93),d=a(727),p=a(6),u=a(29),m=a(5),h=a.n(m),g=Object(d.a)({[p.a.init]:(e,{payload:{debugArticles:t}})=>Object(u.a)(t),[p.a.addArticles]:(e,{payload:t})=>(h.a.forEach(t,t=>{h.a.forEach(t,t=>{e=e.push(t)})}),e.sortBy(({date:e})=>-e)),[p.a.showArticle]:(e,{payload:t})=>e.update(e.findIndex(({id:e})=>e===t),e=>e.set("temporaryVisible",!0)),[p.a.updateParsedQuery]:e=>e.map(e=>e.set("temporaryVisible",!1))},Object(u.a)());class f extends(Object(u.b)({_now:!1,_can:!0})){can(){const{_now:e,_can:t}=this;return!e&&t}now(){const{_now:e}=this;return e}}var b=Object(d.a)({[p.a.startToLoadArticles]:e=>e.set("_now",!0),[p.a.addArticles]:e=>e.set("_now",!1),[p.a.canLoadArticles]:(e,{payload:t})=>e.set("_can",t)},new f({_now:!0})),y=Object(d.a)({[p.a.setFilter]:(e,t)=>{const{payload:a}=t;return a}},-1),M=a(9),w=a.n(M),O=a(8),x=a.n(O),j=a(14);const v=x.a.join(j.c,"checked.json");w.a.existsSync(v)||w.a.writeJsonSync(v,[]);var E=Object(d.a)({[p.a.toggleChecked]:(e,{payload:t})=>{const a=e.indexOf(t),r=-1===a?e.push(t):e.delete(a);return w.a.writeJsonSync(v,r.toJS()),r}},Object(u.a)(w.a.readJsonSync(v)));const S=x.a.join(j.c,"following.json");w.a.existsSync(S)||w.a.writeJsonSync(S,[]);var A=Object(d.a)({[p.a.toggleFollowing]:(e,{payload:t})=>{const a=e.indexOf(t),r=-1===a?e.push(t):e.delete(a);return w.a.writeJsonSync(S,r.toJS()),r}},Object(u.a)(w.a.readJsonSync(S))),T=Object(d.a)({[p.a.setPreferencesState]:(e,t)=>{const{payload:a}=t;return a}},!1),k=Object(d.a)({[p.a.init]:(e,{payload:{extraBlogsText:t}})=>t,[p.a.updateOtherBlogs]:(e,{payload:t})=>t},""),_=a(317),C=a.n(_);class N extends(Object(u.b)({visible:!1,query:"",parsedQuery:{}})){static get KEYWORDS(){return["author","title","content","html"]}updateParsedQuery(e){const t=C.a.parse(e,{keywords:N.KEYWORDS});let a={};return"string"==typeof t?a={author:[],title:[],content:[],text:[t]}:h.a.forEach(h.a.concat("text",N.KEYWORDS),e=>{if(h.a.has(t,e)){const r=t[e];a[e]="string"==typeof r?[r]:r}else a[e]=[]}),this.set("parsedQuery",a)}searched(){const{parsedQuery:e,query:t}=this;return!h.a.isEmpty(e)&&t}test(e){const{parsedQuery:t}=this;return!this.searched()||h.a.some(N.KEYWORDS,a=>{const r=e.get(a);return h.a.some([a,"text"],e=>h.a.some(t[e],e=>r.indexOf(e)>=0))})}}var R=Object(d.a)({[p.a.setSearchVisible]:(e,{payload:t})=>e.set("visible",t),[p.a.updateSearchQuery]:(e,{payload:t})=>e.set("query",t),[p.a.updateParsedQuery]:(e,{payload:t})=>e.updateParsedQuery(t)},new N),G=a(123),P=Object(d.a)({[p.a.init]:(e,{payload:{initSlopes:t}})=>new G.a({slopes:Object(u.c)(t)}),[p.a.addArticles]:(e,{payload:t})=>(h.a.forEach(t,({length:t},a)=>{t>0&&(e=e.updateIn(["slopes",a],e=>e.update("page",e=>e+1)))}),e)},new G.a),q=Object(l.c)({articles:g,loading:b,openFilterIndex:y,checked:E,following:A,openPreferences:T,extraBlogs:k,searchState:R,anyzaka:P}),L=a(318),I=a.n(L);w.a.existsSync(j.c)||w.a.mkdirSync(j.c),w.a.existsSync(j.d)||w.a.writeJsonSync(j.d,{}),w.a.existsSync(j.b)||w.a.writeJsonSync(j.b,{});const D=Object(l.d)(q,Object(l.a)(I.a)),B=document.querySelector("main");(()=>{const{default:e}=a(723);i.a.render(n.a.createElement(s.AppContainer,null,n.a.createElement(c.a,{store:D},n.a.createElement(e,null))),B)})()},723:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(3),i=a(6);const s=Object(o.a)({boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2)"}),c=Object(o.a)({height:22,WebkitAppRegion:"drag"}),l=Object(o.a)({width:220,height:"100%",boxSizing:"border-box"}),d=Object(o.a)({width:"calc(100% - 220px)",height:"100%"}),p="rgb(244, 143, 177)",u=Object(o.a)({margin:"0 8px 0px 24px"}),m=16;var h,g=a(23);var f,b=Object(g.b)(({anyzaka:e})=>({anyzaka:e}))(h=class extends r.Component{constructor(...e){var t,a,r;super(...e),r=()=>{const{props:{name:e,size:t=48,css:a,anyzaka:r}}=this;return n.a.createElement("i",{className:Object(o.a)(a,{display:"inline-block",borderRadius:"50%",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:`url("file://${r.toMemberIconPath(e)}")`,width:t,height:t})})},(a="render")in(t=this)?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r}})||h,y=a(72),M=a(74);function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let O=Object(g.b)(({following:e,checked:t,searchState:a})=>({following:e,checked:t,searchState:a}))(f=class extends r.Component{constructor(...e){super(...e),w(this,"onClickItem",()=>{const{props:{article:e,following:t,searchState:a,dispatch:r}}=this;e.visible(t,a)||r(i.a.showArticle(e.id)),Object(M.a)(document.querySelector(`[data-article-id="${e.id}"]`))}),w(this,"render",()=>{const{props:{article:e,following:t,checked:a,searchState:r}}=this,i=e.visible(t,r);return n.a.createElement("div",{onClick:this.onClickItem,className:Object(o.a)({overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer",padding:"0 8px",":hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}})},n.a.createElement(y.a,{style:{marginRight:4,verticalAlign:"middle",visibility:a.includes(e.url)?"visible":"hidden",opacity:i?1:.5}}),n.a.createElement(b,{name:e.author,size:24,css:Object(o.a)({verticalAlign:"middle",marginRight:4,opacity:i?1:.5})}),n.a.createElement("span",{className:Object(o.a)({opacity:i?1:.5})},e.title))})}})||f;class x extends r.PureComponent{constructor(...e){var t,a,r;super(...e),r=()=>{const{props:{date:e}}=this;return n.a.createElement("div",{className:Object(o.a)(u,{borderBottom:"1px solid white"})},e.format("YYYY/MM/DD"))},(a="render")in(t=this)?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r}}var j;function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let E=Object(g.b)(({searchState:e,loading:t})=>({searchState:e,loading:t}))(j=class extends r.Component{constructor(...e){super(...e),v(this,"$input",Object(r.createRef)()),v(this,"timer",-1),v(this,"onChange",e=>{const{currentTarget:{value:t}}=e,{props:{dispatch:a},timer:r}=this;clearTimeout(r),a(i.a.updateSearchQuery(t)),this.timer=setTimeout(()=>{a(i.a.updateParsedQuery(t))},300)}),v(this,"onFocus",()=>{const{props:{dispatch:e}}=this;e(i.a.canLoadArticles(!1))}),v(this,"onBlur",()=>{const{props:{dispatch:e}}=this;e(i.a.canLoadArticles(!0))}),v(this,"onClick",()=>{const{$input:{current:e}}=this;e.focus()}),v(this,"render",()=>{const{props:{searchState:e}}=this;return n.a.createElement("div",{onClick:this.onClick,className:Object(o.a)({backgroundColor:"rgb(0, 0, 0, 0.1)",borderRadius:4,padding:"4px 8px",marginBottom:8,boxSizing:"border-box",display:"flex",alignItems:"center"})},n.a.createElement(y.b,null),n.a.createElement("input",{value:e.get("query"),onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.$input,type:"text",spellCheck:!1,className:Object(o.a)({font:"inherit",display:"block",border:"none",outline:"none",width:"100%",color:"white",padding:0,marginLeft:8,backgroundColor:"transparent"})}))})}})||j;var S;let A=Object(g.b)(({articles:e,searchState:t})=>({articles:e,searchState:t}))(S=class extends r.Component{constructor(...e){var t,a,r;super(...e),r=()=>{const{props:{articles:e,searchState:t}}=this,a=[],{size:r}=e;let i=null;for(let o=0;o<r;o+=1){const r=e.get(o);t.searched()&&null!==r&&!t.test(r)||(null===i?a.push(n.a.createElement(x,{key:`d${r.id}`,date:r.date})):i.date.get("day")!==r.date.get("day")&&a.push(n.a.createElement(x,{key:`d${r.id}`,date:r.date})),a.push(n.a.createElement(O,{article:r,key:r.id})),i=r)}return n.a.createElement("div",{className:Object(o.a)(l,s,{display:"flex",flexDirection:"column",backgroundColor:p,color:"white"})},n.a.createElement("div",{className:c}),n.a.createElement("div",{className:u},n.a.createElement(E,null)),n.a.createElement("div",{className:Object(o.a)({overflowY:"scroll",flex:1})},a))},(a="render")in(t=this)?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r}})||S;var T,k=a(94),_=a(9),C=a.n(_),N=a(319),R=a.n(N),G=a(149),P=(a(205),a(708),a(710),a(14));function q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let L=Object(g.b)(({openPreferences:e,extraBlogs:t})=>({openPreferences:e,extraBlogs:t}))(T=class extends r.Component{constructor(...e){super(...e),q(this,"onClickSaveButton",()=>{const{props:{extraBlogs:e}}=this;try{JSON.parse(e),C.a.writeFileSync(P.d,e),location.reload()}catch(e){G.b.error(String(e),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}}),q(this,"onChange",e=>{const{props:{dispatch:t}}=this;t(i.a.updateOtherBlogs(e))}),q(this,"render",()=>{const{props:{openPreferences:e,extraBlogs:t}}=this;return e?n.a.createElement("div",{className:Object(o.a)({position:"fixed",left:0,top:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.435)",display:"flex",justifyContent:"center",alignItems:"center"})},n.a.createElement("div",{className:Object(o.a)(s,{backgroundColor:"white",width:"55%",position:"relative"})},n.a.createElement("div",{className:Object(o.a)(s,{backgroundColor:p,color:"white",padding:16,display:"flex",justifyContent:"space-between",alignItems:"center"})},n.a.createElement("span",{className:Object(o.a)({fontSize:"2rem"})},"Preferences")),n.a.createElement("div",{className:Object(o.a)({padding:24})},n.a.createElement(R.a,{value:t,onChange:this.onChange,mode:"json",theme:"github",showGutter:!1,style:{width:"100%",height:160,border:"1px solid rgb(230, 236, 240)"},editorProps:{$blockScrolling:!0}})),n.a.createElement("div",{className:Object(o.a)({padding:"4px 6px",textAlign:"right"})},n.a.createElement("span",{onClick:this.onClickSaveButton,className:Object(o.a)(s,{margin:"6px 0",padding:"0 16px",lineHeight:"36px",display:"inline-block",backgroundColor:p,color:"white",cursor:"pointer"})},"SAVE & RELOAD")))):null})}})||T;a(309);var I,D=a(5),B=a.n(D);function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const z=({article:{date:e,author:t,title:a,url:r},color:i})=>n.a.createElement("div",{className:Object(o.a)({backgroundColor:i,color:"white",padding:"16px 67px",position:"relative"})},n.a.createElement(b,{name:t,size:43,css:Object(o.a)({position:"absolute",left:16,top:16})}),n.a.createElement("div",null,n.a.createElement("div",null,e.format("YYYY/MM/DD HH:mm:ss")),n.a.createElement("div",{className:Object(o.a)({fontSize:20,fontWeight:"bold",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},n.a.createElement("a",{href:r,className:Object(o.a)({color:"white",textDecoration:"none",":hover":{textDecoration:"underline"}})},a))));var F,$=Object(g.b)(({checked:e,following:t,searchState:a,anyzaka:r})=>({checked:e,following:t,searchState:a,anyzaka:r}))(I=class extends r.Component{constructor(...e){super(...e),W(this,"$base",Object(r.createRef)()),W(this,"onClickCheck",()=>{const{props:{dispatch:e,article:{url:t}}}=this,{$base:{current:a}}=this;e(i.a.toggleChecked(t)),Object(M.a)(a)}),W(this,"onClickLink",e=>{e.preventDefault();const{currentTarget:{href:t}}=e;k.shell.openExternal(t)}),W(this,"componentDidMount",()=>{const{$base:{current:e}}=this;B.a.forEach(e.querySelectorAll("a"),e=>{e.addEventListener("click",this.onClickLink)})}),W(this,"render",()=>{const{props:{article:e,checked:t,following:a,searchState:r,css:i="",anyzaka:c}}=this,{author:l,html:d,url:p,id:u,debug:m}=e,h=m?"gray":c.getGroupColorFromMember(l),g=m||!t.includes(p);return n.a.createElement("div",{className:Object(o.a)(i,s,m||e.visible(a,r)?null:{height:0,marginBottom:0,overflow:"hidden"},{position:"relative"}),ref:this.$base,"data-article-id":u},n.a.createElement(z,{article:e,color:h}),n.a.createElement("div",{className:Object(o.a)({marginTop:16,padding:"0 16px 16px",position:"relative",img:{maxWidth:"100%"},video:{maxWidth:"100%",display:"block"},display:g?"block":"none",backgroundColor:"white"})},n.a.createElement("div",{className:Object(o.a)({wordBreak:"break-all","p:last-child":{marginBottom:0}}),dangerouslySetInnerHTML:{__html:d}})),n.a.createElement(y.a,{size:43,onClick:this.onClickCheck,className:Object(o.a)({position:"absolute",right:16,bottom:16,cursor:"pointer"},g?{fill:"lightgray","&:hover":{fill:h}}:{fill:"white"})}))})}})||I,U=a(322);function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let Y=Object(g.b)(({openFilterIndex:e,following:t,anyzaka:a})=>({openFilterIndex:e,following:t,anyzaka:a}))(F=class extends r.Component{constructor(...e){super(...e),J(this,"onClickFilter",e=>{const{currentTarget:{dataset:{strkey:t}}}=e,{props:{dispatch:a,openFilterIndex:r}}=this,n=parseInt(t);a(i.a.setFilter(n===r?-1:n))}),J(this,"onClickFilterMember",e=>{const{props:{dispatch:t}}=this,{currentTarget:{dataset:{member:a}}}=e;t(i.a.toggleFollowing(a))}),J(this,"render",()=>{const{props:{following:e,openFilterIndex:t,anyzaka:a}}=this,r=a.get("slopes");return n.a.createElement("div",{className:Object(o.a)(s,{padding:8})},n.a.createElement("div",{className:Object(o.a)({marginBottom:4})},r.map((a,r)=>n.a.createElement("span",{onClick:this.onClickFilter,key:r,"data-strkey":r,className:Object(o.a)({color:a.get("color"),cursor:"pointer",i:{verticalAlign:"middle"}})},t===r?n.a.createElement(y.c,{className:Object(o.a)({verticalAlign:"middle"})}):n.a.createElement(y.d,{className:Object(o.a)({verticalAlign:"middle"})}),n.a.createElement("span",{className:Object(o.a)({fontWeight:"bold",marginRight:2,verticalAlign:"middle"})},a.get("name")),a.get("members").map(a=>{const o=a.get("name");return e.includes(o)&&t!==r?n.a.createElement(b,{name:o,size:24,key:o}):null})))),n.a.createElement("div",{className:Object(o.a)({display:"flex",flexWrap:"wrap"})},r.map((a,r)=>t===r?a.get("members").map(t=>{const a=t.get("name");return n.a.createElement("div",{onClick:this.onClickFilterMember,key:a,"data-member":a,className:Object(o.a)(s,{display:"flex",alignItems:"center",marginRight:8,marginBottom:8,padding:4,borderRadius:4,cursor:"pointer",opacity:e.includes(a)?1:.5,"> :first-of-type":{marginRight:4}})},n.a.createElement(b,{name:a,size:36}),n.a.createElement("span",null,a))}):null)))})}})||F;var H=a(71),V=a(320),Q=a(34),K=a.n(Q),X=a(49),Z=a.n(X),ee=a(73);function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){re(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ne=B.a.keys(H);class oe extends r.Component{constructor(...e){super(...e),re(this,"state",{debugUrl:localStorage.getItem("debugUrl")||"",fetchersIndex:parseInt(localStorage.getItem("fetchersKeys"))||0,article:null}),re(this,"onChangeUrl",({currentTarget:{value:e}})=>{localStorage.setItem("debugUrl",e),this.setState({debugUrl:e})}),re(this,"onChangeFetcher",({currentTarget:{value:e}})=>{const t=B.a.indexOf(ne,e);localStorage.setItem("fetchersKeys",t),this.setState({fetchersIndex:t})}),re(this,"fetchDebugArticle",async()=>{const{state:{debugUrl:e,fetchersIndex:t}}=this;this.setState({article:new ee.a(ae({},(await H[ne[t]].parse(await K()(e)))[0],{debug:!0,date:Z()()}))})}),re(this,"render",()=>{if(!P.g)return null;const{state:{debugUrl:e,fetchersIndex:t,article:a}}=this;return n.a.createElement("div",{className:Object(o.a)({backgroundColor:"gray",marginBottom:m})},n.a.createElement("div",{className:Object(o.a)({display:"flex",padding:8})},n.a.createElement(V.a,{onClick:this.fetchDebugArticle,className:Object(o.a)({color:"white",backgroundColor:"rgba(0, 0, 0, 0.1)",padding:5,borderRadius:4,cursor:"pointer"})}),n.a.createElement("select",{onChange:this.onChangeFetcher,className:Object(o.a)({font:"inherit",marginLeft:8,display:"inline-block"}),value:ne[t]},B.a.map(ne,(e,t)=>n.a.createElement("option",{value:e,key:t},e))),n.a.createElement("input",{onChange:this.onChangeUrl,type:"url",value:e,className:Object(o.a)({font:"inherit",outline:"none",border:"none",flex:1,marginLeft:8,padding:"4px 8px",backgroundColor:"rgba(0, 0, 0, 0.1)",color:"white",display:"inline-block",borderRadius:4})})),a?n.a.createElement($,{article:a}):null)})}}var ie;function se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let ce=Object(g.b)(({articles:e,loading:t,anyzaka:a})=>({articles:e,loading:t,anyzaka:a}))(ie=class extends r.Component{constructor(...e){super(...e),se(this,"$loading",Object(r.createRef)()),se(this,"$articles",Object(r.createRef)()),se(this,"prevloadingIsVisible",!0),se(this,"fetch",async()=>{const{props:{anyzaka:e}}=this,t=e.get("slopes"),{size:a}=t,r=[];for(let e=0;e<a;e+=1){const a=t.get(e);r.push(await H[a.get("fetcher")].fetch(a).catch(e=>(console.error(`Failed to fetch (${a.get("name")})`,e),[])))}return r}),se(this,"componentDidMount",()=>{const{props:{dispatch:e}}=this;e(i.a.init()).then(()=>{e(i.a.addArticles(this.fetch())),this.watchLoading()})}),se(this,"loadAndAddArticles",()=>{const{props:{dispatch:e}}=this;e(i.a.startToLoadArticles()),e(i.a.addArticles(this.fetch()))}),se(this,"onClickResetFilter",()=>{const{props:{dispatch:e}}=this;e(i.a.setFilter(-1))}),se(this,"watchLoading",()=>{const{$loading:{current:e},prevloadingIsVisible:t,props:{loading:a}}=this,{top:r}=e.getBoundingClientRect(),n=innerHeight>=r;!t&&n&&a.can()&&this.loadAndAddArticles(),this.prevloadingIsVisible=n,requestAnimationFrame(this.watchLoading)}),se(this,"onClickLoad",()=>{this.loadAndAddArticles()}),se(this,"render",()=>{const{props:{articles:e,loading:t}}=this;return n.a.createElement("div",{className:Object(o.a)(d,{display:"flex",flexDirection:"column"})},n.a.createElement("div",{className:c}),n.a.createElement("div",{ref:this.$articles,onClick:this.onClickResetFilter,className:Object(o.a)({flex:1,overflow:"scroll",position:"relative"})},n.a.createElement("div",{className:Object(o.a)({minWidth:960,padding:"0 16px",marginLeft:"auto",marginRight:"auto"})},n.a.createElement(oe,null),e.map(e=>n.a.createElement($,{article:e,key:e.id,css:Object(o.a)({marginBottom:m})})),n.a.createElement("div",{ref:this.$loading,className:Object(o.a)({margin:"16px 0",textAlign:"center"})},t.now()?n.a.createElement(U.a,{css:Object(o.a)({display:"inline-block"})}):n.a.createElement("div",{onClick:this.onClickLoad,className:Object(o.a)({color:"rgb(233, 30, 99)",border:"1px solid rgb(233, 30, 99)",padding:"4px 8px",borderRadius:4,cursor:"pointer"})},"さらに記事を読み込む")))),n.a.createElement(Y,null))})}})||ie;var le;function de(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let pe=Object(g.b)()(le=class extends r.PureComponent{constructor(){super(),de(this,"onClickPreferencesOfMenuItem",()=>{const{props:{dispatch:e}}=this;e(i.a.setPreferencesState(!0))}),de(this,"render",()=>n.a.createElement("div",{className:Object(o.a)({width:"100%",height:"100%",display:"flex",flexDirection:"row"})},n.a.createElement(A,null),n.a.createElement(ce,null),n.a.createElement(L,null),n.a.createElement(G.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!1,pauseOnHover:!0}))),k.ipcRenderer.on("menu:preferences",this.onClickPreferencesOfMenuItem)}})||le;t.default=pe},73:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(29),n=a(121),o=a.n(n),i=a(5),s=a.n(i);class c extends(Object(r.b)({id:"",date:new Date,title:"",author:"",html:"",content:"",temporaryVisible:!1,url:"",filtered:!1,debug:!1})){constructor(e){e.title||(e.title="(No title)"),super(s.a.merge(e,{id:o()()}))}visible(e,t){const{author:a,temporaryVisible:r,filtered:n}=this;return t.searched()?t.test(this)&&e.includes(a)&&!n||r:e.includes(a)&&!n||r}}},74:function(e,t,a){"use strict";a.d(t,"b",(function(){return x})),a.d(t,"a",(function(){return v}));var r=a(1),n=a.n(r),o=a(34),i=a.n(o),s=a(3),c=a(5),l=a.n(c),d=a(49),p=a.n(d),u=a(36),m=a.n(u),h=a(313),g=a.n(h),f=a(314),b=a.n(f),y=a(105);function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const w=new DOMParser;class O{constructor(){M(this,"simplify",async e=>{for(const t of this._textWalker(e))O.URL_RE.test(t.nodeValue)&&!this._isLink(t)&&(t.nodeValue=t.nodeValue.replace(O.URL_RE,e=>`<a href="${e}">${e}</a>`));for(const t of e.querySelectorAll("img"))this._replace(t,new Text(O.LINE_EMOJI_RE.test(t.src)?`<img src="${t.src}" style="width:1.3em;height:1.3em;position:relative;top:0.2em;" alt="emoji">`:t.outerHTML));for(const t of e.querySelectorAll(".twitter-tweet"))this._replace(t,new Text(Object(y.renderToStaticMarkup)(await A(t.children[1].href))));for(const t of e.querySelectorAll(".instagram-media"))this._replace(t,new Text(Object(y.renderToStaticMarkup)(await T(t.dataset.instgrmPermalink))));for(const t of e.querySelectorAll(".uploaded-video"))this._replace(t,new Text(Object(y.renderToStaticMarkup)(n.a.createElement("div",null,n.a.createElement("video",{controls:!0,src:t.querySelector("source").src})))));for(const t of e.querySelectorAll(".ogpLink"))this._replace(t,new Text(Object(y.renderToStaticMarkup)(await k.render(t.href))));for(const t of e.querySelectorAll("iframe"))this._replace(t,new Text(Object(y.renderToStaticMarkup)(n.a.createElement("div",null,n.a.createElement("iframe",{width:"480",height:"270",src:t.src,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))));for(const t of e.querySelectorAll("a")){const e=document.createDocumentFragment();e.appendChild(new Text(`<a href="${t.href}">`));for(const a of t.childNodes)e.appendChild(a);e.appendChild(new Text("</a>")),this._replace(t,e)}for(const t of["b","strong","i","u"])for(const a of e.querySelectorAll(t)){const e=document.createDocumentFragment();e.appendChild(new Text(`<${t}>`));for(const t of a.childNodes)e.appendChild(t);e.appendChild(new Text(`</${t}>`)),this._replace(a,e)}for(const t of e.querySelectorAll("font"))if(t.hasAttribute("color")){const e=document.createDocumentFragment();e.appendChild(new Text(`<font color="${t.getAttribute("color")}">`));for(const a of t.childNodes)e.appendChild(a);e.appendChild(new Text("</font>")),this._replace(t,e)}for(const t of e.querySelectorAll("div"))this._isNewLine(t)?this._replace(t,new Text("<br>")):0!==t.querySelectorAll("div").length||t.querySelector("br")||t.appendChild(new Text("<br>"));for(const t of e.querySelectorAll("p"))t.appendChild(new Text("<br>"));for(const t of e.querySelectorAll("br"))this._replace(t,new Text("<br>"));return e.innerText.replace(/^(<br>|\s)+/,"").replace(/(<br>|\s)+$/,"")})}_isNewLine(e){return l.a.every(e.childNodes,e=>"#text"===e.nodeName?!e.nodeValue.trim():"BR"===e.tagName||this._isNewLine(e))}_replace(e,t){const{parentElement:a}=e;a.replaceChild(t,e)}_textWalker(e){const t=[];return"#text"===e.nodeName?t.push(e):l.a.forEach(e.childNodes,e=>t.push(...this._textWalker(e))),t}_isLink(e,t){const{parentElement:a}=e;return null!==a&&e!==t&&("A"===a.nodeName||this._isLink(a,t))}}M(O,"LINE_EMOJI_RE",/https:\/\/parts\.lineblog\.me\/img\/emoji\/line\/\d+\/\d+\.png/),M(O,"URL_RE",/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=~]*)?/);const x=new O,j=e=>{const{parentElement:t}=e;return"scroll"===getComputedStyle(e).overflowY?e:j(t)},v=e=>{j(e).scroll({top:e.offsetTop})},E=(e,t)=>{const a=l.a.split(e,t),r=[a.shift()];return l.a.forEach(a,(e,t)=>{r.push(e,n.a.createElement("br",{key:t}))}),r},S=({css:e})=>n.a.createElement("div",{className:Object(s.a)(e,{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center"})}),A=async e=>{const t=await i()(e,{headers:{"User-Agent":"bot"}}),[,a]=e.match(/https:\/\/twitter.com\/(.+)\/status/),[,r]=t.match(/<meta\s+property="og:title"\s+content="(.+)\s+on Twitter">/),o=[...b()(t,/<meta\s+property="og:image"\s+content="(.+):large">/g)],c=t.match(/<meta\s+property="og:video:url"\s+content="(.+)">/),[,d]=t.match(/<meta\s+property="og:description"\s+content="“(.+)”">/),[,u]=t.match(/<img\s+class="ProfileAvatar-image\s+"\s+src="(.+)"\s+alt=".+">/),[,h]=t.match(/data-time-ms="(\d+)"/),f=p()(h).format("HH:mm - YYYY年MM月DD日");return n.a.createElement("a",{href:e,className:Object(s.a)({display:"block",width:500,color:"inherit",textDecoration:"none",cursor:"pointer"})},n.a.createElement("div",{className:Object(s.a)({borderRadius:4,border:"1px solid rgb(225, 232, 237)"})},n.a.createElement("div",{className:Object(s.a)({padding:16})},n.a.createElement("div",{className:Object(s.a)({paddingBottom:8})},n.a.createElement("div",{className:Object(s.a)({display:"flex",lineHeight:1.2})},n.a.createElement("img",{src:u,className:Object(s.a)({width:36,height:36,borderRadius:"50%",marginRight:8})}),n.a.createElement("div",{className:Object(s.a)({display:"flex",flexDirection:"column"})},n.a.createElement("span",{className:Object(s.a)({fontWeight:"bold"})},r),n.a.createElement("span",{className:Object(s.a)({color:"rgb(101, 119, 134)",fontSize:"0.9rem"})},"@",a)))),n.a.createElement("div",{className:Object(s.a)({video:{borderRadius:12,marginTop:8}})},E(d.trim(),/&#10;/),n.a.createElement("div",{className:Object(s.a)({color:"rgb(105, 120, 130)",fontSize:"0.9rem"})},f),l.a.isEmpty(o)?c?await(async e=>{const{track:{playbackUrl:t}}=JSON.parse(await i()(`https://api.twitter.com/1.1/videos/tweet/config/${e.match(/https:\/\/twitter.com\/i\/videos\/(\d+)/)[1]}.json`,{headers:{authorization:"Bearer AAAAAAAAAAAAAAAAAAAAAIK1zgAAAAAA2tUWuhGZ2JceoId5GwYWU5GspY4%3DUq7gzFoCZs1QfwGoVdvSac3IniczZEYXIcDyumCauIXpcAPorE"}})),a=l.a.nth(l.a.split(await i()(t),"\n"),-2),r=`_hls_${Date.now()}`,o=new MutationObserver(()=>{const e=new g.a;e.loadSource(m.a.resolve(t,a)),e.attachMedia(document.getElementById(r)),o.disconnect()});return o.observe(document.body,{childList:!0,subtree:!0}),n.a.createElement("video",{id:r,controls:!0})})(c[1]):null:(e=>{const{length:t}=e;return n.a.createElement("div",{className:Object(s.a)({display:"flex",marginTop:8})},1===t?n.a.createElement(S,{css:Object(s.a)({width:466,height:466,borderRadius:4,backgroundImage:`url(${e[0][1]})`})}):2===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(S,{css:Object(s.a)({width:231,height:231,marginRight:4,borderTopLeftRadius:4,borderBottomLeftRadius:4,backgroundImage:`url(${e[0][1]})`})}),n.a.createElement(S,{css:Object(s.a)({width:231,height:231,marginRight:4,borderTopRightRadius:4,borderBottomRightRadius:4,backgroundImage:`url(${e[1][1]})`})})):3===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(S,{css:Object(s.a)({width:466,height:231,borderTopRadius:4,marginBottom:4,backgroundImage:`url(${e[0][1]})`})}),n.a.createElement(S,{css:Object(s.a)({width:231,height:231,marginRight:4,borderBottomLeftRadius:4,backgroundImage:`url(${e[1][1]})`})}),n.a.createElement(S,{css:Object(s.a)({width:231,height:231,marginRight:4,borderBottomRightRadius:4,backgroundImage:`url(${e[2][1]})`})})):4===t?n.a.createElement(n.a.Fragment,null,n.a.createElement(S,{css:Object(s.a)({width:231,height:231,marginRight:4,marginBottom:4,borderTopLeftRadius:4,backgroundImage:`url(${e[0][1]})`})}),n.a.createElement(S,{css:Object(s.a)({width:231,height:231,marginRight:4,marginBottom:4,borderTopRightRadius:4,backgroundImage:`url(${e[1][1]})`})}),n.a.createElement(S,{css:Object(s.a)({width:231,height:231,marginRight:4,borderBottomLeftRadius:4,backgroundImage:`url(${e[2][1]})`})}),n.a.createElement(S,{css:Object(s.a)({width:231,height:231,marginRight:4,borderBottomRightRadius:4,backgroundImage:`url(${e[3][1]})`})})):null)})(o)))))},T=async e=>{const t=await i()(e),[,a]=t.match(/<script\s+type="text\/javascript">window._sharedData\s+=([\s\S]+);<\/script>\s+<script\s+type="text\/javascript">window\.__initialDataLoaded\(window._sharedData\);<\/script>/),r=JSON.parse(a).entry_data.PostPage[0].graphql.shortcode_media;return n.a.createElement("a",{href:e,className:Object(s.a)({display:"block",width:500,color:"inherit",textDecoration:"none",cursor:"pointer"})},n.a.createElement("div",{className:Object(s.a)({border:"1px solid rgb(225, 232, 237)"})},n.a.createElement("div",{className:Object(s.a)({padding:8,display:"flex",fontSize:"0.9rem"})},n.a.createElement("img",{className:Object(s.a)({width:34,height:34,marginRight:8,borderRadius:"50%"}),src:r.owner.profile_pic_url}),n.a.createElement("div",null,n.a.createElement("div",{className:Object(s.a)({fontWeight:600})},r.owner.full_name),n.a.createElement("div",{className:Object(s.a)({color:"rgb(101, 119, 134)"})},"@",r.owner.username))),n.a.createElement("img",{className:Object(s.a)({display:"block"}),src:r.display_url}),n.a.createElement("div",{className:Object(s.a)({padding:10,lineHeight:"18px",fontSize:"0.9rem"})},E(r.edge_media_to_caption.edges[0].node.text,"\n"))))};const k=new class{_getImageUrl(e){const t=e.querySelector('meta[property="og:image"]');return t?t.getAttribute("content"):null}_getSiteName(e){const t=e.querySelector('meta[property="og:title"]');if(t)return t.getAttribute("content");const a=e.querySelector('meta[property="og:site_name"]');if(a)return a.getAttribute("content");const r=e.querySelector("title");return r?r.innerText:""}_getDescription(e){const t=e.querySelector('meta[property="og:description"]');if(t)return t.getAttribute("content");const a=e.querySelector('meta[name="description"]');return a?a.getAttribute("content"):""}async render(e){const t=await i()(e,{headers:{"User-Agent":"bot","Accept-Language":"ja-JP"}}).catch(({statusCode:e,response:{body:t}})=>404===e?t:(console.error(e),null)),a=w.parseFromString(t,"text/html"),r=this._getImageUrl(a),o=this._getSiteName(a),c=this._getDescription(a),l=r?118:0;return n.a.createElement("a",{href:e,className:Object(s.a)({textDecoration:"none",color:"inherit"})},n.a.createElement("div",{className:Object(s.a)({border:"1px solid rgb(229, 229, 229)",display:"flex"})},r?n.a.createElement("div",{className:Object(s.a)({backgroundImage:`url(${r})`,width:l,height:l,backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"cover"})}):null,n.a.createElement("div",{className:Object(s.a)({padding:22,width:`calc(100% - ${l}px)`,boxSizing:"border-box"})},n.a.createElement("div",{className:Object(s.a)({fontSize:17,fontWeight:"bold",marginBottom:3,wordBreak:"break-all",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},o),n.a.createElement("div",{className:Object(s.a)({fontSize:13,color:"rgb(115, 115, 115)",wordBreak:"break-all",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingBottom:10})},c),n.a.createElement("div",{className:Object(s.a)({fontSize:12,color:"rgb(200, 200, 200)",wordBreak:"break-all",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},new URL(e).hostname))))}}},77:function(e,t){e.exports=require("assert")},8:function(e,t){e.exports=require("path")},92:function(e,t){e.exports=require("stream")},94:function(e,t){e.exports=require("electron")}});