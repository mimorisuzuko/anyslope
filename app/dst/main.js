!function(e){function t(t){for(var n,o,c=t[0],l=t[1],s=t[2],u=0,d=[];u<c.length;u++)o=c[u],i[o]&&d.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(p&&p(t);d.length;)d.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,c=1;c<r.length;c++){var l=r[c];0!==i[l]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={0:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="http://localhost:3000/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var p=l;a.push([262,1]),r()}({11:function(e,t){e.exports=require("util")},115:function(e,t){e.exports=require("net")},116:function(e,t){e.exports=require("http")},121:function(e,t){e.exports=require("os")},13:function(e,t){e.exports=require("crypto")},15:function(e,t){e.exports=require("path")},157:function(e,t){e.exports=require("punycode")},159:function(e,t){e.exports=require("https")},160:function(e,t){e.exports=require("querystring")},175:function(e){e.exports=[{name:"日向坂46",color:"rgb(81, 182, 224)",members:["井口眞緒","潮紗理菜","柿崎芽実","影山優佳","加藤史帆","齊藤京子","佐々木久美","佐々木美玲","高瀬愛奈","高本彩花","東村芽依","金村美玖","河田陽菜","小坂菜緒","富田鈴花","丹生明里","濱岸ひより","松田好花","宮田愛萌","渡邉美穂","上村ひなの"]},{name:"欅坂46",color:"rgb(84, 176, 74)",members:["石森虹花","上村莉菜","尾関梨香","織田奈那","小池美波","小林由依","齋藤冬優花","佐藤詩織","菅井友香","鈴本美愉","長沢菜々香","長濱ねる","土生瑞穂","原田葵","平手友梨奈","守屋茜","渡辺梨加","渡邉理佐","井上梨名","関有美子","武元唯衣","田村保乃","藤吉夏鈴","松田里奈","松平璃子","森田ひかる","山﨑天"]},{name:"乃木坂46",color:"rgb(118, 37, 133)",members:["秋元真夏","生田絵梨花","伊藤かりん","伊藤純奈","伊藤理々杏","井上小百合","岩本蓮加","梅澤美波","衛藤美彩","大園桃子","北野日奈子","久保史緒里","齋藤飛鳥","斉藤優里","阪口珠美","桜井玲香","佐々木琴子","佐藤楓","白石麻衣","新内眞衣","鈴木絢音","高山一実","寺田蘭世","中田花奈","中村麗乃","樋口日奈","星野みなみ","堀未央奈","松村沙友理","向井葉月","山崎怜奈","山下美月","吉田綾乃クリスティー","与田祐希","渡辺みり愛","和田まあや","遠藤さくら","賀喜遥香","掛橋沙耶香","金川紗耶","北川悠理","柴田柚菜","清宮レイ","田村真佑","筒井あやめ","早川聖来","矢久保美緒"]}]},220:function(e,t){e.exports=require("buffer")},227:function(e,t){e.exports=require("tls")},259:function(e,t){e.exports=require("electron")},262:function(e,t,r){r(263),e.exports=r(625)},31:function(e,t,r){"use strict";var n=r(627),i=r(64);let a=-1;t.a=Object(n.a)({LOAD_ARTICLES:async()=>(a+=1,await Object(i.b)(a))},"START_TO_LOAD_ARTICLES","SET_FILTER")},437:function(e,t){},456:function(e,t){e.exports=require("zlib")},556:function(e,t){e.exports=require("events")},568:function(e,t,r){var n=r(569);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(571)(n,i);n.locals&&(e.exports=n.locals)},569:function(e,t,r){(e.exports=r(570)(!1)).push([e.i,'@charset "UTF-8";\nhtml,\nbody,\nmain {\n  width: 100%;\n  height: 100%; }\n\nbody {\n  margin: 0;\n  font-family: Helvetica Neue, Helvetica, Arial, ヒラギノ角ゴ Pro W3, Hiragino Kaku Gothic Pro, メイリオ, Meiryo, ＭＳ Ｐゴシック, MS PGothic, sans-serif; }\n',""])},576:function(e,t){e.exports=require("constants")},59:function(e,t){e.exports=require("url")},60:function(e,t){e.exports=require("assert")},625:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r.n(n),a=r(253),o=r.n(a),c=r(261),l=r(84),s=r(75),p=r(628),u=r(31),d=r(122),m=Object(p.a)({[u.a.loadArticles]:(e,t)=>{const{payload:r}=t;return e.push(...r)}},Object(d.a)()),h=Object(p.a)({[u.a.startToLoadArticles]:()=>!0,[u.a.loadArticles]:()=>!1},!1),b=Object(p.a)({[u.a.setFilter]:(e,t)=>{const{payload:r}=t;return r}},-1),f=Object(s.c)({articles:m,loading:h,openFilterIndex:b}),g=r(257),y=r.n(g);r(568);const k=Object(s.d)(f,Object(s.a)(y.a)),v=document.querySelector("main");(()=>{const{default:e}=r(626);o.a.render(i.a.createElement(c.AppContainer,null,i.a.createElement(l.a,{store:k},i.a.createElement(e,null))),v)})()},626:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r.n(n),a=r(39),o=r(8),c=r.n(o),l=r(258),s=r(64),p=r(10);var u=class extends n.Component{render(){const{props:{name:e,size:t=48}}=this;return i.a.createElement("i",{className:Object(p.a)({display:"inline-block",borderRadius:"50%",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:`url("${s.a.toMemberIconPath(e)}")`,width:t,height:t})})}},d=r(85);const m=Object(p.a)({boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2)"});var h,b=r(259);var f,g,y,k,v,w,x,O,C=(f=(h=class extends n.Component{constructor(){super(),this.$base=Object(n.createRef)(),this.$content=Object(n.createRef)()}onClickCheck(){const{props:{onClickCheck:e}}=this,{$base:{current:t}}=this;e(t)}onClickLink(e){e.preventDefault();const{currentTarget:{href:t}}=e;b.shell.openExternal(t)}componentDidMount(){const{$content:{current:e}}=this;c.a.forEach(e.querySelectorAll("a"),e=>{e.addEventListener("click",this.onClickLink)})}render(){const{props:{article:e,checkedList:t}}=this,{title:r,name:n,date:a,content:o,key:h}=e,b=s.a.getGroupColorFromMember(n),f=c.a.includes(t,h);return i.a.createElement("div",{className:m,ref:this.$base,"data-key":h},i.a.createElement("div",{className:Object(p.a)({backgroundColor:b,color:"white",padding:16,display:"flex",alignItems:"center","> :first-of-type":{marginRight:8}})},i.a.createElement("div",null,i.a.createElement(u,{name:n,size:43})),i.a.createElement("div",{className:Object(p.a)({flex:1})},i.a.createElement("div",null,l.a.format(a,"YY/MM/DD HH:mm:ss")),i.a.createElement("div",{className:Object(p.a)({fontSize:20,fontWeight:"bold"})},r)),f?i.a.createElement(d.GoCheck,{size:36,fill:"white",onClick:this.onClickCheck,"data-key":h,className:Object(p.a)({cursor:"pointer"})}):null),i.a.createElement("div",{className:Object(p.a)({padding:"0 16px 16px",position:"relative",img:{maxWidth:"100%",display:"block"},display:f?"none":"block"})},i.a.createElement("div",{ref:this.$content,dangerouslySetInnerHTML:{__html:o}}),i.a.createElement(d.GoCheck,{size:36,onClick:this.onClickCheck,className:Object(p.a)({position:"absolute",right:16,bottom:16,cursor:"pointer",fill:"lightgray","&:hover":{fill:b}})})))}}).prototype,g="onClickCheck",y=[a.a],k=Object.getOwnPropertyDescriptor(h.prototype,"onClickCheck"),v=h.prototype,w={},Object.keys(k).forEach(function(e){w[e]=k[e]}),w.enumerable=!!w.enumerable,w.configurable=!!w.configurable,("value"in w||w.initializer)&&(w.writable=!0),w=y.slice().reverse().reduce(function(e,t){return t(f,g,e)||e},w),v&&void 0!==w.initializer&&(w.value=w.initializer?w.initializer.call(v):void 0,w.initializer=void 0),void 0===w.initializer&&(Object.defineProperty(f,g,w),w=null),h),j=r(101),E=r.n(j),S=r(121),A=r.n(S),F=r(15),q=r.n(F),z=r(260),T=r(84),M=r(31);function L(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}const N=s.a.json();let P=Object(T.b)(({openFilterIndex:e})=>({openFilterIndex:e}))((L((O=class extends n.Component{onClickFilter(e){const{currentTarget:{dataset:{strkey:t}}}=e,{props:{dispatch:r,openFilterIndex:n}}=this,i=parseInt(t);r(M.a.setFilter(i===n?-1:i))}onClickFilterMember(e){const{props:{onClickFilterMember:t}}=this,{currentTarget:{dataset:{name:r}}}=e;t(r)}render(){const{props:{following:e,openFilterIndex:t}}=this;return i.a.createElement("div",{className:Object(p.a)({padding:8,borderTop:"1px solid rgb(237, 239, 241)"})},i.a.createElement("div",{className:Object(p.a)({marginBottom:4})},c.a.map(N,({name:r,color:n,members:a},o)=>i.a.createElement("span",{onClick:this.onClickFilter,key:o,"data-strkey":o,className:Object(p.a)({color:n,cursor:"pointer",i:{verticalAlign:"middle"}})},t===o?i.a.createElement(d.GoTriangleDown,null):i.a.createElement(d.GoTriangleRight,null),i.a.createElement("span",{className:Object(p.a)({fontWeight:"bold",marginRight:2})},r),c.a.map(a,r=>c.a.includes(e,r)&&t!==o?i.a.createElement(u,{name:r,size:24,key:r}):null)))),i.a.createElement("div",{className:Object(p.a)({display:"flex",flexWrap:"wrap"})},c.a.map(N,({members:r},n)=>t===n?c.a.map(r,t=>i.a.createElement("div",{onClick:this.onClickFilterMember,key:t,"data-name":t,className:Object(p.a)(m,{display:"flex",alignItems:"center",marginRight:8,marginBottom:8,padding:4,borderRadius:4,cursor:"pointer",opacity:c.a.includes(e,t)?1:.5,"> :first-of-type":{marginRight:4}})},i.a.createElement(u,{name:t,size:36}),i.a.createElement("span",null,t))):null)))}}).prototype,"onClickFilter",[a.a],Object.getOwnPropertyDescriptor(O.prototype,"onClickFilter"),O.prototype),L(O.prototype,"onClickFilterMember",[a.a],Object.getOwnPropertyDescriptor(O.prototype,"onClickFilterMember"),O.prototype),x=O))||x;var R,D;function I(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}const $=q.a.join(A.a.homedir(),".anyzaka");let _=Object(T.b)(e=>e)((I((D=class extends n.Component{constructor(){super(),this.$loading=Object(n.createRef)(),this.$articles=Object(n.createRef)(),this.prevloadingIsVisible=!0,this.state={following:[],checked:[]},(async()=>{await E.a.exists($)||await E.a.writeJSON($,{checked:[],following:[]});const{following:e,checked:t}=await E.a.readJSON($);await this.setStateAsync({following:e,checked:t}),this.loadAndAddArticles(),this.watchLoading()})().catch(console.error)}async setStateAsync(e){return new Promise(t=>{this.setState(e,t)})}loadAndAddArticles(){const{props:{dispatch:e,loading:t}}=this;t||(e(M.a.startToLoadArticles()),e(M.a.loadArticles()))}async writeState(){const{state:{following:e,checked:t}}=this;await E.a.writeJSON($,{following:e,checked:t})}onClickResetFilter(){const{props:{dispatch:e}}=this;e(M.a.setFilter(-1))}watchLoading(){const{$loading:{current:e},prevloadingIsVisible:t}=this,{top:r}=e.getBoundingClientRect(),n=innerHeight>=r;!t&&n&&this.loadAndAddArticles(),this.prevloadingIsVisible=n,requestAnimationFrame(this.watchLoading)}onClickFilterMember(e){const{state:{following:t}}=this;(async()=>{await this.setStateAsync({following:c.a.includes(t,e)?c.a.pull(t,e):c.a.concat(t,e)}),await this.writeState()})().catch(console.error)}onClickCheck(e){const{dataset:{key:t}}=e,{state:{checked:r},$articles:{current:n}}=this;(async()=>{await this.setStateAsync({checked:c.a.includes(r,t)?c.a.pull(r,t):c.a.concat(r,t)}),n.scroll({top:e.offsetTop-n.offsetTop}),await this.writeState()})().catch(console.error)}onClickLoad(){this.loadAndAddArticles()}render(){const{state:{following:e,checked:t},props:{articles:r,loading:n}}=this;return i.a.createElement("div",{className:Object(p.a)({width:"100%",height:"100%",display:"flex",flexDirection:"column"})},i.a.createElement("div",{className:Object(p.a)(m,{backgroundColor:"rgb(233, 30, 99)",color:"white",fontWeight:"bold",fontSize:40,padding:16,marginBottom:16,WebkitAppRegion:"drag"})},"推しのブログみるやつ"),i.a.createElement("div",{ref:this.$articles,onClick:this.onClickResetFilter,className:Object(p.a)({flex:1,overflow:"scroll"})},i.a.createElement("div",{className:Object(p.a)({width:960,marginLeft:"auto",marginRight:"auto","> div":{marginBottom:16}})},r.map(r=>{const{name:n,id:a}=r;return c.a.includes(e,n)?i.a.createElement(C,{checkedList:t,article:r,key:a,onClickCheck:this.onClickCheck}):null})),i.a.createElement("div",{ref:this.$loading,className:Object(p.a)({margin:"16px 0",textAlign:"center","> div":{display:"inline-block"}})},n?i.a.createElement(z.BeatLoader,null):i.a.createElement("div",{onClick:this.onClickLoad,className:Object(p.a)({color:"rgb(233, 30, 99)",border:"1px solid rgb(233, 30, 99)",padding:"4px 8px",borderRadius:4,cursor:"pointer"})},"さらに記事を読み込む"))),i.a.createElement("div",null,i.a.createElement(P,{following:e,onClickFilterMember:this.onClickFilterMember})))}}).prototype,"onClickResetFilter",[a.a],Object.getOwnPropertyDescriptor(D.prototype,"onClickResetFilter"),D.prototype),I(D.prototype,"watchLoading",[a.a],Object.getOwnPropertyDescriptor(D.prototype,"watchLoading"),D.prototype),I(D.prototype,"onClickFilterMember",[a.a],Object.getOwnPropertyDescriptor(D.prototype,"onClickFilterMember"),D.prototype),I(D.prototype,"onClickCheck",[a.a],Object.getOwnPropertyDescriptor(D.prototype,"onClickCheck"),D.prototype),I(D.prototype,"onClickLoad",[a.a],Object.getOwnPropertyDescriptor(D.prototype,"onClickLoad"),D.prototype),R=D))||R;t.default=_},64:function(e,t,r){"use strict";var n=r(8),i=r.n(n),a=r(255),o=r(175),c=r(176),l=r.n(c),s=r(256),p=r.n(s),u=r(122),d=r(100),m=r.n(d);class h extends(Object(u.b)({id:"",date:new Date,title:"",name:"",content:""})){constructor(...e){super(i.a.merge(...e,{id:m()()}))}get key(){const{title:e,name:t}=this;return`${t}-${e}`}}r.d(t,"b",function(){return y}),r.d(t,"a",function(){return w});const b=new DOMParser,f=new a.a,g=e=>p()(f.turndown(e.innerHTML).trim()),y=async(e=0)=>i.a.sortBy(i.a.concat(await v(e),await k(e)),({date:e})=>-e),k=async(e=0)=>{const t=await l()(`http://blog.nogizaka46.com/?p=${e+1}`),r=b.parseFromString(t,"text/html"),n=r.querySelectorAll(".author"),i=r.querySelectorAll("h1 .entrytitle"),a=r.querySelectorAll(".entrybody"),o=r.querySelectorAll(".entrybottom"),{length:c}=o,s=[];for(let e=0;e<c;e+=1)s.push(new h({date:new Date(o[e].childNodes[0].nodeValue.slice(0,-1)),title:i[e].innerText,name:n[e].innerText.replace(/\s/g,""),content:g(a[e])}));return s},v=async(e=0)=>{const t=await l()(`http://www.keyakizaka46.com/s/k46o/diary/member/list?page=${e}`);return i.a.map(b.parseFromString(t,"text/html").querySelectorAll("article"),e=>{const{innerText:t}=e.querySelector(".box-bottom li"),{innerText:r}=e.querySelector("h3"),{innerText:n}=e.querySelector(".name");return new h({date:new Date(t),title:r.trim(),name:n.replace(/\s/g,""),content:g(e.querySelector(".box-article"))})})};const w=new class{json(){return o}getGroupColorFromMember(e){let t=null;return i.a.forEach(o,({members:r,color:n})=>{i.a.includes(r,e)&&(t=n)}),t}toMemberIconPath(e){return`assets/icons/${e}.jpg`}}},74:function(e,t){e.exports=require("stream")},98:function(e,t){e.exports=require("fs")}});