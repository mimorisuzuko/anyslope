!function(e){function t(t){for(var r,o,c=t[0],s=t[1],l=t[2],p=0,u=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&u.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(d&&d(t);u.length;)u.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,c=1;c<a.length;c++){var s=a[c];0!==i[s]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},i={0:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="http://localhost:3000/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=s;n.push([322,1]),a()}({104:function(e,t,a){"use strict";a.r(t),a.d(t,"Ameblo",(function(){return E})),a.d(t,"LineBlog",(function(){return T})),a.d(t,"Nogi",(function(){return S})),a.d(t,"Keyaki",(function(){return k})),a.d(t,"Hinata",(function(){return M}));var r=a(4),i=a.n(r),n=a(34),o=a.n(n),c=a(81),s=a(37),l=a(36),d=a.n(l),p=a(61),u=a.n(p),m=a(124),h=a.n(m),g=a(106),b=a(0),f=a.n(b),y=a(49),O=a.n(y);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){j(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const x=new DOMParser;class E{static get BASE_URL(){return"https://ameblo.jp"}static getURL(e){return h()(E.BASE_URL,e)}static parse(e){const t=x.parseFromString(e,"text/html"),a=[],{bloggerState:{bloggerMap:r},entryState:{entryMap:n}}=JSON.parse(e.match(/<script>window.INIT_DATA\s?=\s?(\{.+\});\s?window.RESOURCE_BASE_URL/)[1]),o=i.a.values(n),{profile:{nickname:c}}=i.a.values(r)[0];return i.a.forEach(t.querySelectorAll(".skin-entry.js-entryWrapper"),(e,t)=>{const r=e.querySelector("a.skinArticleTitle"),i=e.querySelector(".skin-entryBody");a.push({date:u()(o[t].entry_created_datetime),title:r.innerText,author:c,content:i.innerText,html:Object(s.a)(i).replace(/<img\s+src="(https:\/\/stat100.ameba.jp\/blog\/ucs\/img\/char\/\w+\/\w+\.png)">/g,(e,t)=>`<img src="${t}" width="24" width="24" alt="emoji">`),url:h()(E.BASE_URL,...r.href.split("/").slice(-2))})}),a}static async idToImageUrlAndName(e){const t=await o()(E.getURL(e)),{bloggerState:{bloggerMap:a}}=JSON.parse(t.match(/<script>window.INIT_DATA\s?=\s?(\{.+\});\s?window.RESOURCE_BASE_URL/)[1]),{profile:{nickname:r,image_filepath:n}}=i.a.values(a)[0];return{name:r,url:n}}static async fetch(e){const t=[],a=e.get("_ids"),{size:r}=a,n=e.get("page");for(let s=0;s<r;s+=1){const r=e.getIn(["_optionsList",s]),l=r.get("multi"),d=r.get("filters");for(let e=0;e<l;e+=1)t.push(...i.a.map(E.parse(await o()(h()(E.getURL(a.get(s)),`/page-${(n-1)*l+e+1}.html`))),e=>new c.a(v({},e,{filtered:d.some(t=>null===e[t.get(0)].match(t.get(1)))}))))}return t}}class T{static getURL(e){return`https://lineblog.me/${e}`}static async idToImageUrlAndName(e){const t=await o()(T.getURL(e)),a=x.parseFromString(t,"text/html");return{name:a.querySelector("h2").innerText,url:a.querySelector(".profile-photo-thumbnail img").src}}static async parse(e){const t=x.parseFromString(e,"text/html"),a=[];for(const e of t.querySelectorAll(".article")){const r=e.querySelector(".article-title a"),i={},n=e.querySelector(".article-body");for(const e of n.querySelectorAll(".twitter-tweet")){const t=`_tweet_${O()()}`;i[t]=Object(g.renderToStaticMarkup)(await Object(s.d)(e.children[1].href)),e.outerHTML=t}for(const e of n.querySelectorAll(".instagram-media")){const t=`_instagram_${O()()}`;i[t]=Object(g.renderToStaticMarkup)(await Object(s.c)(e.dataset.instgrmPermalink)),e.outerHTML=t}for(const e of n.querySelectorAll(".uploaded-video")){const{src:t}=e.querySelector("source"),a=`_video_${O()()}`;i[a]=Object(g.renderToStaticMarkup)(f.a.createElement("div",null,f.a.createElement("video",{controls:!0,src:t}))),e.outerHTML=a}for(const e of n.querySelectorAll(".ogpLink")){const t=`_ogp_${O()()}`;i[t]=Object(g.renderToStaticMarkup)(await s.b.render(e.href)),e.outerHTML=t}for(const e of t.querySelectorAll("iframe")){const t=`_youtube_${O()()}`;i[t]=Object(g.renderToStaticMarkup)(f.a.createElement("div",null,f.a.createElement("iframe",{width:"480",height:"270",src:e.src,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))),e.outerHTML=t}a.push({date:u()(e.querySelector(".article-date").innerText),title:r.innerText,author:t.querySelector(".profile-photo h2").innerText,content:n.innerText,html:Object(s.a)(n).replace(/<img\s+src="(https:\/\/parts\.lineblog\.me\/img\/emoji\/line\/\d+\/\d+\.png)">/g,(e,t)=>`<img src="${t}" style="width:1.3em;height:1.3em;position:relative;top:0.2em;" alt="emoji">`).replace(/(_(video|instagram|tweet|ogp|youtube)_[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12})/gi,(e,t)=>i[t]),url:r.href})}return a}static async fetch(e){const t=[],a=e.get("_ids"),{size:r}=a,n=e.get("page");for(let s=0;s<r;s+=1){const r=e.getIn(["_optionsList",s]),l=r.get("multi"),d=r.get("filters");for(let e=0;e<l;e+=1)t.push(...i.a.map(await T.parse(await o()(h()(T.getURL(a.get(s)),`?p=${n+(n-1)*l+e}`))),e=>new c.a(v({},e,{filtered:d.some(t=>null===e[t.get(0)].match(t.get(1)))}))))}return t}}class S{static parse(e){const t=x.parseFromString(e,"text/html"),a=t.querySelectorAll(".author"),r=t.querySelectorAll("h1 .entrytitle"),i=t.querySelectorAll(".entrybody"),n=t.querySelectorAll(".entrybottom"),o=t.querySelectorAll("#siderecententry .inner li:not(.last) a"),{length:c}=n,l=[];for(let e=0;e<c;e+=1){const t=i[e];l.push({date:u()(n[e].childNodes[0].nodeValue.slice(0,-1)),title:r[e].innerText,author:a[e].innerText.replace(/\s/g,""),html:Object(s.a)(t),content:t.innerText,url:(o[e]?o[e]:r[e].querySelector("a")).href})}return l}static async fetch(e){return i.a.map(S.parse(await o()(`http://blog.nogizaka46.com/?p=${e.get("page")}`)),e=>new c.a(e))}}class k{static get BASE_URL(){return"http://www.keyakizaka46.com"}static parse(e){return i.a.map(x.parseFromString(e,"text/html").querySelectorAll("article"),e=>{const{innerText:t}=e.querySelector(".box-bottom li"),a=e.querySelector("h3 a"),{innerText:r}=e.querySelector(".name"),i=e.querySelector(".box-article");return{date:u()(t),title:a.innerText.trim(),author:r.replace(/\s/g,""),html:Object(s.a)(i),content:i.innerText,url:d.a.resolve(k.BASE_URL,a.pathname)}})}static async fetch(e){return i.a.map(k.parse(await o()(d.a.resolve(k.BASE_URL,`/s/k46o/diary/member/list?page=${e.get("page")}`))),e=>new c.a(e))}}class M{static get BASE_URL(){return"https://www.hinatazaka46.com"}static parse(e){return i.a.map(x.parseFromString(e,"text/html").querySelectorAll(".p-blog-article"),e=>{const t=e.querySelector(".c-blog-article__text");return{date:u()(e.querySelector(".c-blog-article__date").innerText),title:e.querySelector(".c-blog-article__title").innerText.trim(),author:e.querySelector(".c-blog-article__name").innerText.replace(/\s/g,""),html:Object(s.a)(t),content:t.innerText,url:d.a.resolve(M.BASE_URL,e.querySelector(".c-button-blog-detail").pathname)}})}static async fetch(e){return i.a.map(M.parse(await o()(d.a.resolve(M.BASE_URL,`/s/official/diary/member/list?page=${e.get("page")}`))),e=>new c.a(e))}}},111:function(e,t){e.exports=require("fs")},123:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var r=a(4),i=a.n(r),n=a(14),o=a(7),c=a.n(o),s=a(34),l=a.n(s),d=a(8),p=a.n(d),u=a(29),m=a(104);class h extends(Object(u.b)({slopes:Object(u.a)()})){static async mergeExtraBlogs(e,t){const a={},r={line:{name:"LINE BLOG",color:"rgb(90, 196, 127)",fetcher:"LineBlog",page:1},ameblo:{name:"Ameba Blog",color:"rgb(45, 140, 60)",fetcher:"Ameblo",page:1}};for(const e of i.a.keys(t))if(!i.a.has(a,e)){a[e]=i.a.merge({_ids:[],_key:e,_optionsList:[],members:[],extra:!0},r[e]);for(let o of t[e]){"string"==typeof o&&(o=[o,{}]);const[t,s]=o,{url:d,name:u}=await m[r[e].fetcher].idToImageUrlAndName(t),{body:h,headers:g}=await l()({url:d,encoding:null,resolveWithFullResponse:!0});await p.a.writeFile(c.a.join(n.e,`${u}.jpg`),h),a[e]._optionsList.push(i.a.merge({multi:1,filters:[]},s)),a[e]._ids.push(t),a[e].members.push({name:u,lastModified:g["last-modified"]})}}return i.a.forEach(i.a.values(a),t=>{(e=i.a.filter(e,({name:e})=>e!==t)).push(t)}),e}getGroupColorFromMember(e){const{slopes:t}=this,{size:a}=t;let r=null;for(let i=0;i<a;i+=1){const a=t.get(i);if(a.get("members").find(t=>t.get("name")===e)){r=a.get("color");break}}return r}toMemberIconPath(e){const{slopes:t}=this,{size:a}=t;let r=c.a.join(n.f,"fallback.png");for(let i=0;i<a;i+=1){const a=t.get(i);if(a.get("members").find(t=>t.get("name")===e)){const t=c.a.join(a.get("extra")?n.e:n.f,`${e}.jpg`);p.a.existsSync(t)&&(r=t);break}}return r}}},139:function(e,t){e.exports=require("net")},14:function(e,t,a){"use strict";a.d(t,"c",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return b}));var r=a(94),i=a(7),n=a.n(i),o=a(145),c=a.n(o);const{env:{NODE_ENV:s}}=process,l=n.a.join(void 0===r.remote?process.cwd():r.remote.app.getAppPath(),"app/dst"),d=n.a.join(c.a.homedir(),".anyzaka"),p=n.a.join(l,"assets/icons"),u=n.a.join(p,"extra"),m=n.a.join(d,"extra-blogs.json"),h="development"===s,g=(n.a.join(l,"../../src/models/anyslope.json"),n.a.join(d,"extra-blogs.cache.json")),b=n.a.join(d,"anyslope.cache.json")},140:function(e,t){e.exports=require("http")},145:function(e,t){e.exports=require("os")},17:function(e,t){e.exports=require("util")},186:function(e,t){e.exports=require("punycode")},188:function(e,t){e.exports=require("https")},189:function(e,t){e.exports=require("querystring")},21:function(e,t){e.exports=require("crypto")},262:function(e,t){e.exports=require("buffer")},269:function(e,t){e.exports=require("tls")},316:function(e){e.exports=JSON.parse('[{"name":"乃木坂46","color":"rgb(118, 37, 133)","members":[{"name":"秋元真夏","lastModified":"Wed, 09 Oct 2019 10:07:02 GMT"},{"name":"生田絵梨花","lastModified":"Wed, 09 Oct 2019 10:07:03 GMT"},{"name":"伊藤純奈","lastModified":"Wed, 09 Oct 2019 10:07:03 GMT"},{"name":"伊藤理々杏","lastModified":"Wed, 09 Oct 2019 10:07:04 GMT"},{"name":"井上小百合","lastModified":"Wed, 09 Oct 2019 10:07:03 GMT"},{"name":"岩本蓮加","lastModified":"Wed, 09 Oct 2019 10:07:04 GMT"},{"name":"梅澤美波","lastModified":"Wed, 09 Oct 2019 10:07:01 GMT"},{"name":"大園桃子","lastModified":"Wed, 09 Oct 2019 10:07:05 GMT"},{"name":"北野日奈子","lastModified":"Wed, 09 Oct 2019 10:07:04 GMT"},{"name":"久保史緒里","lastModified":"Wed, 09 Oct 2019 10:07:04 GMT"},{"name":"齋藤飛鳥","lastModified":"Wed, 09 Oct 2019 10:07:05 GMT"},{"name":"阪口珠美","lastModified":"Wed, 09 Oct 2019 10:07:05 GMT"},{"name":"佐々木琴子","lastModified":"Wed, 09 Oct 2019 10:07:05 GMT"},{"name":"佐藤楓","lastModified":"Wed, 09 Oct 2019 10:07:06 GMT"},{"name":"白石麻衣","lastModified":"Wed, 09 Oct 2019 10:07:06 GMT"},{"name":"新内眞衣","lastModified":"Wed, 09 Oct 2019 10:07:06 GMT"},{"name":"鈴木絢音","lastModified":"Wed, 09 Oct 2019 10:07:01 GMT"},{"name":"高山一実","lastModified":"Wed, 09 Oct 2019 10:07:01 GMT"},{"name":"寺田蘭世","lastModified":"Wed, 09 Oct 2019 10:07:01 GMT"},{"name":"中田花奈","lastModified":"Wed, 09 Oct 2019 10:07:05 GMT"},{"name":"中村麗乃","lastModified":"Wed, 09 Oct 2019 10:07:05 GMT"},{"name":"樋口日奈","lastModified":"Wed, 09 Oct 2019 10:07:03 GMT"},{"name":"星野みなみ","lastModified":"Wed, 09 Oct 2019 10:07:03 GMT"},{"name":"堀未央奈","lastModified":"Wed, 09 Oct 2019 10:07:03 GMT"},{"name":"松村沙友理","lastModified":"Wed, 09 Oct 2019 10:07:04 GMT"},{"name":"向井葉月","lastModified":"Wed, 09 Oct 2019 10:07:04 GMT"},{"name":"山崎怜奈","lastModified":"Wed, 09 Oct 2019 10:07:02 GMT"},{"name":"山下美月","lastModified":"Fri, 11 Oct 2019 15:39:30 GMT"},{"name":"吉田綾乃クリスティー","lastModified":"Wed, 09 Oct 2019 10:07:02 GMT"},{"name":"与田祐希","lastModified":"Wed, 09 Oct 2019 10:07:02 GMT"},{"name":"渡辺みり愛","lastModified":"Wed, 09 Oct 2019 10:07:02 GMT"},{"name":"和田まあや","lastModified":"Wed, 09 Oct 2019 10:07:02 GMT"},{"name":"遠藤さくら","lastModified":"Wed, 09 Oct 2019 10:07:15 GMT"},{"name":"賀喜遥香","lastModified":"Wed, 09 Oct 2019 10:07:14 GMT"},{"name":"掛橋沙耶香","lastModified":"Wed, 09 Oct 2019 10:07:16 GMT"},{"name":"金川紗耶","lastModified":"Wed, 09 Oct 2019 10:07:14 GMT"},{"name":"北川悠理","lastModified":"Wed, 09 Oct 2019 10:07:14 GMT"},{"name":"柴田柚菜","lastModified":"Wed, 09 Oct 2019 10:07:15 GMT"},{"name":"清宮レイ","lastModified":"Wed, 09 Oct 2019 10:07:14 GMT"},{"name":"田村真佑","lastModified":"Wed, 09 Oct 2019 10:07:15 GMT"},{"name":"筒井あやめ","lastModified":"Wed, 09 Oct 2019 10:07:15 GMT"},{"name":"早川聖来","lastModified":"Wed, 09 Oct 2019 10:07:16 GMT"},{"name":"矢久保美緒","lastModified":"Wed, 09 Oct 2019 10:07:15 GMT"},{"name":"運営スタッフ","lastModified":0},{"name":"４期生","lastModified":0}],"extra":false,"page":1,"fetcher":"Nogi"},{"name":"欅坂46","color":"rgb(84, 176, 74)","members":[{"name":"石森虹花","lastModified":"Thu, 07 Feb 2019 12:53:23 GMT"},{"name":"上村莉菜","lastModified":"Thu, 07 Feb 2019 12:54:47 GMT"},{"name":"尾関梨香","lastModified":"Thu, 07 Feb 2019 12:53:01 GMT"},{"name":"織田奈那","lastModified":"Thu, 07 Feb 2019 12:54:01 GMT"},{"name":"小池美波","lastModified":"Thu, 07 Feb 2019 12:53:01 GMT"},{"name":"小林由依","lastModified":"Thu, 07 Feb 2019 12:53:08 GMT"},{"name":"齋藤冬優花","lastModified":"Thu, 07 Feb 2019 13:01:45 GMT"},{"name":"佐藤詩織","lastModified":"Thu, 07 Feb 2019 13:03:12 GMT"},{"name":"菅井友香","lastModified":"Thu, 07 Feb 2019 13:04:17 GMT"},{"name":"鈴本美愉","lastModified":"Thu, 07 Feb 2019 13:02:24 GMT"},{"name":"長沢菜々香","lastModified":"Thu, 07 Feb 2019 13:01:45 GMT"},{"name":"土生瑞穂","lastModified":"Thu, 07 Feb 2019 13:03:13 GMT"},{"name":"原田葵","lastModified":"Thu, 07 Feb 2019 11:00:09 GMT"},{"name":"平手友梨奈","lastModified":"Thu, 07 Feb 2019 13:04:18 GMT"},{"name":"守屋茜","lastModified":"Thu, 07 Feb 2019 13:05:00 GMT"},{"name":"渡辺梨加","lastModified":"Thu, 07 Feb 2019 13:13:05 GMT"},{"name":"渡邉理佐","lastModified":"Thu, 07 Feb 2019 13:12:40 GMT"},{"name":"井上梨名","lastModified":"Thu, 07 Feb 2019 11:00:11 GMT"},{"name":"関有美子","lastModified":"Thu, 07 Feb 2019 11:00:10 GMT"},{"name":"武元唯衣","lastModified":"Thu, 07 Feb 2019 11:00:11 GMT"},{"name":"田村保乃","lastModified":"Thu, 07 Feb 2019 11:00:11 GMT"},{"name":"藤吉夏鈴","lastModified":"Thu, 07 Feb 2019 11:00:11 GMT"},{"name":"松田里奈","lastModified":"Thu, 07 Feb 2019 11:00:09 GMT"},{"name":"松平璃子","lastModified":"Thu, 07 Feb 2019 11:00:09 GMT"},{"name":"森田ひかる","lastModified":"Thu, 07 Feb 2019 11:00:09 GMT"},{"name":"山﨑天","lastModified":"Thu, 07 Feb 2019 11:00:09 GMT"}],"extra":false,"page":0,"fetcher":"Keyaki"},{"name":"日向坂46","color":"rgb(81, 182, 224)","members":{},"extra":false,"page":0,"fetcher":"Hinata"}]')},322:function(e,t,a){a(323),e.exports=a(721)},36:function(e,t){e.exports=require("url")},37:function(e,t,a){"use strict";var r=a(0),i=a.n(r),n=a(34),o=a.n(n),c=a(3),s=a(4),l=a.n(s),d=a(61),p=a.n(d),u=a(36),m=a.n(u),h=a(315),g=a.n(h),b=a(147),f=a.n(b);var y=new class{simplify(e){return l.a.forEach(e.querySelectorAll("img"),e=>{this._replace(e,this._img2text(e))}),l.a.forEach(e.querySelectorAll("a"),e=>{this._replace(e,this._simplifyA(e))}),e=this._simplifyDiv(e),l.a.forEach(this._textWalker(e),e=>{e.nodeValue||e.remove()}),l.a.forEach(e.querySelectorAll("div"),({previousSibling:e})=>{e&&"DIV"===e.nodeName&&e.appendChild(new Text("\n"))}),l.a.forEach(this._textWalker(e),({previousSibling:e,nodeValue:t})=>{t&&e&&"DIV"===e.nodeName&&e.appendChild(new Text("\n"))}),e.innerText}trim(e){const t=[/<br>/g,/\n/g,/ /g,/<div>(<br>)+<\/div>/g];for(;l.a.some(t,t=>l.a.some([...f()(e,t)],t=>0===t.index?(e=e.slice(t[0].length),!0):t.index+t[0].length===e.length&&(e=e.slice(0,-t[0].length),!0))););return e}_replace(e,t){const{parentElement:a}=e;a.replaceChild(t,e)}_textWalker(e){const t=[];return"#text"===e.nodeName?t.push(e):l.a.forEach(e.childNodes,e=>t.push(...this._textWalker(e))),t}_isNewLines(e){const{childNodes:t}=e,a=["IMG"];return l.a.every(t,e=>{const{nodeName:t}=e;if(l.a.includes(a,t))return!1;if("BR"===t)return!0;if("#text"===t){const{nodeValue:t}=e;return"<br>"===t}return this._isNewLines(e)})}_img2text(e){const{src:t}=e;return new Text(`<img src="${t}">`)}_simplifyA(e){const{childNodes:t,href:a}=e,r=this._processChildNodes(t);if(this._isNewLines(r))return r;const i=document.createDocumentFragment();return i.appendChild(new Text(`<a href="${a}">`)),i.appendChild(r),i.appendChild(new Text("</a>")),i}_simplifyDiv(e){const{childNodes:t}=e,a=this._processChildNodes(t);if(!a.hasChildNodes())return a;if(this._isNewLines(a)){const e=document.createDocumentFragment();return e.appendChild(new Text("<div>")),e.appendChild(a),e.appendChild(new Text("</div>")),e}if(e.hasAttribute("style")){const t=document.createDocumentFragment();return t.appendChild(new Text(`<div style="${e.getAttribute("style")}">`)),t.appendChild(a),t.appendChild(new Text("</div>")),t}const r=document.createElement("div");return r.classList.add("searched"),r.appendChild(a),r}_simplifySpan(e){const{childNodes:t}=e,a=this._processChildNodes(t);if(this._isNewLines(a))return a;if(e.hasAttribute("style")){const t=document.createDocumentFragment();return t.appendChild(new Text(`<span style="${e.getAttribute("style")}">`)),t.appendChild(a),t.appendChild(new Text("</span>")),t}return a}_simplifyB(e){const{childNodes:t}=e,a=this._processChildNodes(t);if(this._isNewLines(a))return a;const r=document.createDocumentFragment();return e.hasAttribute("style")?r.appendChild(new Text(`<b style="${e.getAttribute("style")}">`)):r.appendChild(new Text("<b>")),r.appendChild(a),r.appendChild(new Text("</b>")),r}_simplifyP(e){const{childNodes:t}=e,a=this._processChildNodes(t);if(this._isNewLines(a))return a;const r=document.createDocumentFragment();return e.hasAttribute("style")?r.appendChild(new Text(`<p style="${e.getAttribute("style")}">`)):r.appendChild(new Text("<p>")),r.appendChild(a),r.appendChild(new Text("</p>")),r}_simplifyI(e){const{childNodes:t}=e,a=this._processChildNodes(t);if(this._isNewLines(a))return a;const r=document.createDocumentFragment();return e.hasAttribute("style")?r.appendChild(new Text(`<i style="${e.getAttribute("style")}">`)):r.appendChild(new Text("<i>")),r.appendChild(a),r.appendChild(new Text("</i>")),r}_simplifyFont(e){const{childNodes:t}=e,a=this._processChildNodes(t);if(this._isNewLines(a))return a;const r=document.createDocumentFragment();let i="";return e.hasAttribute("face")&&(i+=`font-family: "${e.getAttribute("face")}";`),r.appendChild(new Text(`<span ${i?` style="${i}"`:""}>`)),r.appendChild(a),r.appendChild(new Text("</span>")),r}_processChildNodes(e){const t=document.createDocumentFragment();return l.a.forEach(e,e=>{const{nodeName:a}=e;if("#text"===a){const{nodeValue:a}=e;t.appendChild(new Text(" "===a||"　"===a?"<br>":a.trim()))}else"IMG"===a?t.appendChild(this._img2text(e)):"A"===a?t.appendChild(this._simplifyA(e)):"BR"===a?t.appendChild(new Text("<br>")):"DIV"===a?t.appendChild(this._simplifyDiv(e)):"SPAN"===a?t.appendChild(this._simplifySpan(e)):"B"===a||"STRONG"===a?t.appendChild(this._simplifyB(e)):"P"===a?t.appendChild(this._simplifyP(e)):"I"===a?t.appendChild(this._simplifyI(e)):"FONT"===a&&t.appendChild(this._simplifyFont(e))}),t}};a.d(t,"a",(function(){return w})),a.d(t,"e",(function(){return j})),a.d(t,"d",(function(){return T})),a.d(t,"c",(function(){return S})),a.d(t,"b",(function(){return k}));const O=new DOMParser,w=e=>{const t=y.trim(y.simplify(e)).split(/\n/),a=1===t.length?l.a.join(l.a.map(l.a.split(t[0],"<br>"),e=>e?/^<div/.test(e)?e:"<br>"!==e?`<div>${e}</div>`:e:""),"<br>"):l.a.join(l.a.map(t,e=>e?/^<div/.test(e)?e:"<br>"!==e?`<div>${e}</div>`:e:"<br>"),"");return y.trim(a)},v=e=>{const{parentElement:t}=e;return"scroll"===getComputedStyle(e).overflowY?e:v(t)},j=e=>{v(e).scroll({top:e.offsetTop})},x=(e,t)=>{const a=l.a.split(e,t),r=[a.shift()];return l.a.forEach(a,(e,t)=>{r.push(e,i.a.createElement("br",{key:t}))}),r},E=({css:e})=>i.a.createElement("div",{className:Object(c.a)(e,{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center"})}),T=async e=>{const t=await o()(e),[,a]=e.match(/https:\/\/twitter.com\/(.+)\/status/),[,r]=t.match(/<meta\s+property="og:title"\s+content="(.+)\s+on Twitter">/),n=[...f()(t,/<meta\s+property="og:image"\s+content="(.+):large">/g)],s=t.match(/<meta\s+property="og:video:url"\s+content="(.+)">/),[,d]=t.match(/<meta\s+property="og:description"\s+content="“(.+)”">/),[,u]=t.match(/<img\s+class="ProfileAvatar-image\s+"\s+src="(.+)"\s+alt=".+">/),[,h]=t.match(/data-time-ms="(\d+)"/),b=p()(h).format("HH:mm - YYYY年MM月DD日");return i.a.createElement("a",{href:e,className:Object(c.a)({display:"block",width:500,color:"inherit",textDecoration:"none",cursor:"pointer"})},i.a.createElement("div",{className:Object(c.a)({borderRadius:4,border:"1px solid rgb(225, 232, 237)"})},i.a.createElement("div",{className:Object(c.a)({padding:16})},i.a.createElement("div",{className:Object(c.a)({paddingBottom:8})},i.a.createElement("div",{className:Object(c.a)({display:"flex",lineHeight:1.2})},i.a.createElement("img",{src:u,className:Object(c.a)({width:36,height:36,borderRadius:"50%",marginRight:8})}),i.a.createElement("div",{className:Object(c.a)({display:"flex",flexDirection:"column"})},i.a.createElement("span",{className:Object(c.a)({fontWeight:"bold"})},r),i.a.createElement("span",{className:Object(c.a)({color:"rgb(101, 119, 134)",fontSize:"0.9rem"})},"@",a)))),i.a.createElement("div",{className:Object(c.a)({video:{borderRadius:12,marginTop:8}})},x(d.trim(),/&#10;/),i.a.createElement("div",{className:Object(c.a)({color:"rgb(105, 120, 130)",fontSize:"0.9rem"})},b),l.a.isEmpty(n)?s?await(async e=>{const{track:{playbackUrl:t}}=JSON.parse(await o()(`https://api.twitter.com/1.1/videos/tweet/config/${e.match(/https:\/\/twitter.com\/i\/videos\/(\d+)/)[1]}.json`,{headers:{authorization:"Bearer AAAAAAAAAAAAAAAAAAAAAIK1zgAAAAAA2tUWuhGZ2JceoId5GwYWU5GspY4%3DUq7gzFoCZs1QfwGoVdvSac3IniczZEYXIcDyumCauIXpcAPorE"}})),a=l.a.nth(l.a.split(await o()(t),"\n"),-2),r=`_hls_${Date.now()}`,n=new MutationObserver(()=>{const e=new g.a;e.loadSource(m.a.resolve(t,a)),e.attachMedia(document.getElementById(r)),n.disconnect()});return n.observe(document.body,{childList:!0,subtree:!0}),i.a.createElement("video",{id:r,controls:!0})})(s[1]):null:(e=>{const{length:t}=e;return i.a.createElement("div",{className:Object(c.a)({display:"flex",marginTop:8})},1===t?i.a.createElement(E,{css:Object(c.a)({width:466,height:466,borderRadius:4,backgroundImage:`url(${e[0][1]})`})}):2===t?i.a.createElement(i.a.Fragment,null,i.a.createElement(E,{css:Object(c.a)({width:231,height:231,marginRight:4,borderTopLeftRadius:4,borderBottomLeftRadius:4,backgroundImage:`url(${e[0][1]})`})}),i.a.createElement(E,{css:Object(c.a)({width:231,height:231,marginRight:4,borderTopRightRadius:4,borderBottomRightRadius:4,backgroundImage:`url(${e[1][1]})`})})):3===t?i.a.createElement(i.a.Fragment,null,i.a.createElement(E,{css:Object(c.a)({width:466,height:231,borderTopRadius:4,marginBottom:4,backgroundImage:`url(${e[0][1]})`})}),i.a.createElement(E,{css:Object(c.a)({width:231,height:231,marginRight:4,borderBottomLeftRadius:4,backgroundImage:`url(${e[1][1]})`})}),i.a.createElement(E,{css:Object(c.a)({width:231,height:231,marginRight:4,borderBottomRightRadius:4,backgroundImage:`url(${e[2][1]})`})})):4===t?i.a.createElement(i.a.Fragment,null,i.a.createElement(E,{css:Object(c.a)({width:231,height:231,marginRight:4,marginBottom:4,borderTopLeftRadius:4,backgroundImage:`url(${e[0][1]})`})}),i.a.createElement(E,{css:Object(c.a)({width:231,height:231,marginRight:4,marginBottom:4,borderTopRightRadius:4,backgroundImage:`url(${e[1][1]})`})}),i.a.createElement(E,{css:Object(c.a)({width:231,height:231,marginRight:4,borderBottomLeftRadius:4,backgroundImage:`url(${e[2][1]})`})}),i.a.createElement(E,{css:Object(c.a)({width:231,height:231,marginRight:4,borderBottomRightRadius:4,backgroundImage:`url(${e[3][1]})`})})):null)})(n)))))},S=async e=>{const t=await o()(e),[,a]=t.match(/<script\s+type="text\/javascript">window._sharedData\s+=([\s\S]+);<\/script>\s+<script\s+type="text\/javascript">window\.__initialDataLoaded\(window._sharedData\);<\/script>/),r=JSON.parse(a).entry_data.PostPage[0].graphql.shortcode_media;return i.a.createElement("a",{href:e,className:Object(c.a)({display:"block",width:500,color:"inherit",textDecoration:"none",cursor:"pointer"})},i.a.createElement("div",{className:Object(c.a)({border:"1px solid rgb(225, 232, 237)"})},i.a.createElement("div",{className:Object(c.a)({padding:8,display:"flex",fontSize:"0.9rem"})},i.a.createElement("img",{className:Object(c.a)({width:34,height:34,marginRight:8,borderRadius:"50%"}),src:r.owner.profile_pic_url}),i.a.createElement("div",null,i.a.createElement("div",{className:Object(c.a)({fontWeight:600})},r.owner.full_name),i.a.createElement("div",{className:Object(c.a)({color:"rgb(101, 119, 134)"})},"@",r.owner.username))),i.a.createElement("img",{className:Object(c.a)({display:"block"}),src:r.display_url}),i.a.createElement("div",{className:Object(c.a)({padding:10,lineHeight:"18px",fontSize:"0.9rem"})},x(r.edge_media_to_caption.edges[0].node.text,"\n"))))};const k=new class{_getImageUrl(e){const t=e.querySelector('meta[property="og:image"]');return t?t.getAttribute("content"):null}_getSiteName(e){const t=e.querySelector('meta[property="og:title"]');if(t)return t.getAttribute("content");const a=e.querySelector('meta[property="og:site_name"]');if(a)return a.getAttribute("content");const r=e.querySelector("title");return r?r.innerText:""}_getDescription(e){const t=e.querySelector('meta[property="og:description"]');if(t)return t.getAttribute("content");const a=e.querySelector('meta[name="description"]');return a?a.getAttribute("content"):""}async render(e){const t=O.parseFromString(await o()(e,{headers:{"User-Agent":"request.js","Accept-Language":"ja-JP"}}),"text/html"),a=this._getImageUrl(t),r=this._getSiteName(t),n=this._getDescription(t),s=a?118:0;return i.a.createElement("a",{href:e,className:Object(c.a)({textDecoration:"none",color:"inherit"})},i.a.createElement("div",{className:Object(c.a)({border:"1px solid rgb(229, 229, 229)",display:"flex"})},a?i.a.createElement("div",{className:Object(c.a)({backgroundImage:`url(${a})`,width:s,height:s,backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"cover"})}):null,i.a.createElement("div",{className:Object(c.a)({padding:22,width:`calc(100% - ${s}px)`,boxSizing:"border-box"})},i.a.createElement("div",{className:Object(c.a)({fontSize:17,fontWeight:"bold",marginBottom:3,wordBreak:"break-all",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},r),i.a.createElement("div",{className:Object(c.a)({fontSize:13,color:"rgb(115, 115, 115)",wordBreak:"break-all",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingBottom:10})},n),i.a.createElement("div",{className:Object(c.a)({fontSize:12,color:"rgb(200, 200, 200)",wordBreak:"break-all",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},new URL(e).hostname))))}}},5:function(e,t,a){"use strict";var r=a(723),i=a(8),n=a.n(i),o=a(123),c=a(14),s=a(7),l=a.n(s),d=a(104),p=a(4),u=a.n(p),m=a(81),h=a(61),g=a.n(h),b=a(316);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){O(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.a=Object(r.a)({INIT:async()=>{const e=await n.a.readFile(c.d,{encoding:"utf-8"}),t=JSON.parse(e),a=await n.a.readJson(c.b,{encoding:"utf-8"});let r=null;u.a.isEqual(t,a)?r=await n.a.readJson(c.a):(await n.a.exists(c.e)&&await n.a.remove(c.e),await n.a.mkdir(c.e),await n.a.writeJson(c.b,t),r=await o.a.mergeExtraBlogs(b,t),await n.a.writeJson(c.a,r)),r=u.a.map(r,e=>e.extra?u.a.update(e,"_optionsList",e=>u.a.map(e,e=>u.a.update(e,"filters",e=>u.a.map(e,([e,t])=>[e,new RegExp(t)])))):e);const i=[];if(c.g){const e=l.a.join(process.cwd(),"src/test-htmls");for(const t of await n.a.readdir(e))i.push(...u.a.map(await d[u.a.split(t,".")[0]].parse(await n.a.readFile(l.a.join(e,t),{encoding:"utf-8"})),e=>new m.a(y({},e,{debug:!0,date:g()()}))))}return{extraBlogsText:e,initSlopes:r,debugArticles:i}}},"ADD_ARTICLES","START_TO_LOAD_ARTICLES","SET_FILTER","TOGGLE_CHECKED","TOGGLE_FOLLOWING","SHOW_ARTICLE","SET_PREFERENCES_STATE","UPDATE_PREFERENCES","SET_SEARCH_VISIBLE","UPDATE_SEARCH_QUERY","UPDATE_PARSED_QUERY","CAN_LOAD_ARTICLES","UPDATE_OTHER_BLOGS")},518:function(e,t){e.exports=require("constants")},559:function(e,t){e.exports=require("zlib")},659:function(e,t){e.exports=require("events")},670:function(e,t){},7:function(e,t){e.exports=require("path")},721:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),n=a(103),o=a.n(n),c=a(320),s=a(23),l=a(93),d=a(726),p=a(5),u=a(29),m=a(4),h=a.n(m),g=Object(d.a)({[p.a.init]:(e,{payload:{debugArticles:t}})=>Object(u.a)(t),[p.a.addArticles]:(e,{payload:t})=>(h.a.forEach(t,t=>{h.a.forEach(t,t=>{e=e.push(t)})}),e.sortBy(({date:e})=>-e)),[p.a.showArticle]:(e,{payload:t})=>e.update(e.findIndex(({id:e})=>e===t),e=>e.set("temporaryVisible",!0)),[p.a.updateParsedQuery]:e=>e.map(e=>e.set("temporaryVisible",!1))},Object(u.a)());class b extends(Object(u.b)({_now:!1,_can:!0})){can(){const{_now:e,_can:t}=this;return!e&&t}now(){const{_now:e}=this;return e}}var f=Object(d.a)({[p.a.startToLoadArticles]:e=>e.set("_now",!0),[p.a.addArticles]:e=>e.set("_now",!1),[p.a.canLoadArticles]:(e,{payload:t})=>e.set("_can",t)},new b({_now:!0})),y=Object(d.a)({[p.a.setFilter]:(e,t)=>{const{payload:a}=t;return a}},-1),O=a(8),w=a.n(O),v=a(7),j=a.n(v),x=a(14);const E=j.a.join(x.c,"checked.json");w.a.existsSync(E)||w.a.writeJsonSync(E,[]);var T=Object(d.a)({[p.a.toggleChecked]:(e,{payload:t})=>{const a=e.indexOf(t),r=-1===a?e.push(t):e.delete(a);return w.a.writeJsonSync(E,r.toJS()),r}},Object(u.a)(w.a.readJsonSync(E)));const S=j.a.join(x.c,"following.json");w.a.existsSync(S)||w.a.writeJsonSync(S,[]);var k=Object(d.a)({[p.a.toggleFollowing]:(e,{payload:t})=>{const a=e.indexOf(t),r=-1===a?e.push(t):e.delete(a);return w.a.writeJsonSync(S,r.toJS()),r}},Object(u.a)(w.a.readJsonSync(S))),M=Object(d.a)({[p.a.setPreferencesState]:(e,t)=>{const{payload:a}=t;return a}},!1),C=Object(d.a)({[p.a.init]:(e,{payload:{extraBlogsText:t}})=>t,[p.a.updateOtherBlogs]:(e,{payload:t})=>t},""),A=a(317),_=a.n(A);class N extends(Object(u.b)({visible:!1,query:"",parsedQuery:{}})){static get KEYWORDS(){return["author","title","content","html"]}updateParsedQuery(e){const t=_.a.parse(e,{keywords:N.KEYWORDS});let a={};return"string"==typeof t?a={author:[],title:[],content:[],text:[t]}:h.a.forEach(h.a.concat("text",N.KEYWORDS),e=>{if(h.a.has(t,e)){const r=t[e];a[e]="string"==typeof r?[r]:r}else a[e]=[]}),this.set("parsedQuery",a)}searched(){const{parsedQuery:e,query:t}=this;return!h.a.isEmpty(e)&&t}test(e){const{parsedQuery:t}=this;return!this.searched()||h.a.some(N.KEYWORDS,a=>{const r=e.get(a);return h.a.some([a,"text"],e=>h.a.some(t[e],e=>r.indexOf(e)>=0))})}}var R=Object(d.a)({[p.a.setSearchVisible]:(e,{payload:t})=>e.set("visible",t),[p.a.updateSearchQuery]:(e,{payload:t})=>e.set("query",t),[p.a.updateParsedQuery]:(e,{payload:t})=>e.updateParsedQuery(t)},new N),F=a(123),P=Object(d.a)({[p.a.init]:(e,{payload:{initSlopes:t}})=>new F.a({slopes:Object(u.c)(t)}),[p.a.addArticles]:(e,{payload:t})=>(h.a.forEach(t,({length:t},a)=>{t>0&&(e=e.updateIn(["slopes",a],e=>e.update("page",e=>e+1)))}),e)},new F.a),z=Object(l.c)({articles:g,loading:f,openFilterIndex:y,checked:T,following:k,openPreferences:M,extraBlogs:C,searchState:R,anyzaka:P}),L=a(318),G=a.n(L);w.a.existsSync(x.c)||w.a.mkdirSync(x.c),w.a.existsSync(x.d)||w.a.writeJsonSync(x.d,{}),w.a.existsSync(x.b)||w.a.writeJsonSync(x.b,{});const D=Object(l.d)(z,Object(l.a)(G.a)),q=document.querySelector("main");(()=>{const{default:e}=a(722);o.a.render(i.a.createElement(c.AppContainer,null,i.a.createElement(s.a,{store:D},i.a.createElement(e,null))),q)})()},722:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),n=a(20),o=a(3),c=a(5);const s=Object(o.a)({boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2)"}),l=Object(o.a)({height:22,WebkitAppRegion:"drag"}),d=Object(o.a)({width:220,height:"100%",boxSizing:"border-box"}),p=Object(o.a)({width:"calc(100% - 220px)",height:"100%"}),u="rgb(244, 143, 177)",m=Object(o.a)({margin:"0 8px 0px 24px"});var h,g=a(23);var b,f,y=Object(g.b)(({anyzaka:e})=>({anyzaka:e}))(h=class extends r.Component{render(){const{props:{name:e,size:t=48,css:a,anyzaka:r}}=this;return i.a.createElement("i",{className:Object(o.a)(a,{display:"inline-block",borderRadius:"50%",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:`url("file://${r.toMemberIconPath(e)}")`,width:t,height:t})})}})||h,O=a(73),w=a(37);let v=Object(g.b)(({following:e,checked:t,searchState:a})=>({following:e,checked:t,searchState:a}))((f=class extends r.Component{onClickItem(){const{props:{article:e,following:t,searchState:a,dispatch:r}}=this;e.visible(t,a)||r(c.a.showArticle(e.id)),Object(w.e)(document.querySelector(`[data-article-id="${e.id}"]`))}render(){const{props:{article:e,following:t,checked:a,searchState:r}}=this,n=e.visible(t,r);return i.a.createElement("div",{onClick:this.onClickItem,className:Object(o.a)({overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer",padding:"0 8px",":hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}})},i.a.createElement(O.a,{style:{marginRight:4,verticalAlign:"middle",visibility:a.includes(e.url)?"visible":"hidden",opacity:n?1:.5}}),i.a.createElement(y,{name:e.author,size:24,css:Object(o.a)({verticalAlign:"middle",marginRight:4,opacity:n?1:.5})}),i.a.createElement("span",{className:Object(o.a)({opacity:n?1:.5})},e.title))}},j=f.prototype,x="onClickItem",E=[n.a],T=Object.getOwnPropertyDescriptor(f.prototype,"onClickItem"),S=f.prototype,k={},Object.keys(T).forEach((function(e){k[e]=T[e]})),k.enumerable=!!k.enumerable,k.configurable=!!k.configurable,("value"in k||k.initializer)&&(k.writable=!0),k=E.slice().reverse().reduce((function(e,t){return t(j,x,e)||e}),k),S&&void 0!==k.initializer&&(k.value=k.initializer?k.initializer.call(S):void 0,k.initializer=void 0),void 0===k.initializer&&(Object.defineProperty(j,x,k),k=null),b=f))||b;var j,x,E,T,S,k,M,C;class A extends r.PureComponent{render(){const{props:{date:e}}=this;return i.a.createElement("div",{className:Object(o.a)(m,{borderBottom:"1px solid white"})},e.format("YYYY/MM/DD"))}}function _(e,t,a,r,i){var n={};return Object.keys(r).forEach((function(e){n[e]=r[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce((function(a,r){return r(e,t,a)||a}),n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}let N=Object(g.b)(({searchState:e,loading:t})=>({searchState:e,loading:t}))((_((C=class extends r.Component{constructor(){super(),this.$input=Object(r.createRef)(),this.timer=-1}onChange(e){const{currentTarget:{value:t}}=e,{props:{dispatch:a},timer:r}=this;clearTimeout(r),a(c.a.updateSearchQuery(t)),this.timer=setTimeout(()=>{a(c.a.updateParsedQuery(t))},300)}onFocus(){const{props:{dispatch:e}}=this;e(c.a.canLoadArticles(!1))}onBlur(){const{props:{dispatch:e}}=this;e(c.a.canLoadArticles(!0))}onClick(){const{$input:{current:e}}=this;e.focus()}render(){const{props:{searchState:e}}=this;return i.a.createElement("div",{onClick:this.onClick,className:Object(o.a)({backgroundColor:"rgb(0, 0, 0, 0.1)",borderRadius:4,padding:"4px 8px",marginBottom:8,boxSizing:"border-box",display:"flex",alignItems:"center"})},i.a.createElement(O.b,null),i.a.createElement("input",{value:e.get("query"),onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.$input,type:"text",spellCheck:!1,className:Object(o.a)({font:"inherit",display:"block",border:"none",outline:"none",width:"100%",color:"white",padding:0,marginLeft:8,backgroundColor:"transparent"})}))}}).prototype,"onChange",[n.a],Object.getOwnPropertyDescriptor(C.prototype,"onChange"),C.prototype),_(C.prototype,"onFocus",[n.a],Object.getOwnPropertyDescriptor(C.prototype,"onFocus"),C.prototype),_(C.prototype,"onBlur",[n.a],Object.getOwnPropertyDescriptor(C.prototype,"onBlur"),C.prototype),_(C.prototype,"onClick",[n.a],Object.getOwnPropertyDescriptor(C.prototype,"onClick"),C.prototype),M=C))||M;var R;let F=Object(g.b)(({articles:e,searchState:t})=>({articles:e,searchState:t}))(R=class extends r.Component{render(){const{props:{articles:e,searchState:t}}=this,a=[],{size:r}=e;let n=null;for(let o=0;o<r;o+=1){const r=e.get(o);t.searched()&&null!==r&&!t.test(r)||(null===n?a.push(i.a.createElement(A,{key:`d${r.id}`,date:r.date})):n.date.get("day")!==r.date.get("day")&&a.push(i.a.createElement(A,{key:`d${r.id}`,date:r.date})),a.push(i.a.createElement(v,{article:r,key:r.id})),n=r)}return i.a.createElement("div",{className:Object(o.a)(d,s,{display:"flex",flexDirection:"column",backgroundColor:u,color:"white"})},i.a.createElement("div",{className:l}),i.a.createElement("div",{className:m},i.a.createElement(N,null)),i.a.createElement("div",{className:Object(o.a)({overflowY:"scroll",flex:1})},a))}})||R;var P,z,L=a(94),G=a(8),D=a.n(G),q=a(319),I=a.n(q),B=a(151),W=(a(207),a(707),a(709),a(14));function $(e,t,a,r,i){var n={};return Object.keys(r).forEach((function(e){n[e]=r[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce((function(a,r){return r(e,t,a)||a}),n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}let U=Object(g.b)(({openPreferences:e,extraBlogs:t})=>({openPreferences:e,extraBlogs:t}))(($((z=class extends r.Component{onClickSaveButton(){const{props:{extraBlogs:e}}=this;try{JSON.parse(e),D.a.writeFileSync(W.d,e),location.reload()}catch(e){B.b.error(String(e),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!1})}}onChange(e){const{props:{dispatch:t}}=this;t(c.a.updateOtherBlogs(e))}render(){const{props:{openPreferences:e,extraBlogs:t}}=this;return e?i.a.createElement("div",{className:Object(o.a)({position:"fixed",left:0,top:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.435)",display:"flex",justifyContent:"center",alignItems:"center"})},i.a.createElement("div",{className:Object(o.a)(s,{backgroundColor:"white",width:"55%",position:"relative"})},i.a.createElement("div",{className:Object(o.a)(s,{backgroundColor:u,color:"white",padding:16,display:"flex",justifyContent:"space-between",alignItems:"center"})},i.a.createElement("span",{className:Object(o.a)({fontSize:"2rem"})},"Preferences")),i.a.createElement("div",{className:Object(o.a)({padding:24})},i.a.createElement(I.a,{value:t,onChange:this.onChange,mode:"json",theme:"github",showGutter:!1,style:{width:"100%",height:160,border:"1px solid rgb(230, 236, 240)"},editorProps:{$blockScrolling:!0}})),i.a.createElement("div",{className:Object(o.a)({padding:"4px 6px",textAlign:"right"})},i.a.createElement("span",{onClick:this.onClickSaveButton,className:Object(o.a)(s,{margin:"6px 0",padding:"0 16px",lineHeight:"36px",display:"inline-block",backgroundColor:u,color:"white",cursor:"pointer"})},"SAVE & RELOAD")))):null}}).prototype,"onClickSaveButton",[n.a],Object.getOwnPropertyDescriptor(z.prototype,"onClickSaveButton"),z.prototype),$(z.prototype,"onChange",[n.a],Object.getOwnPropertyDescriptor(z.prototype,"onChange"),z.prototype),P=z))||P;a(311);var J,H,Y=a(4),V=a.n(Y);function Q(e,t,a,r,i){var n={};return Object.keys(r).forEach((function(e){n[e]=r[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce((function(a,r){return r(e,t,a)||a}),n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}const K=({article:{date:e,author:t,title:a,url:r},color:n})=>i.a.createElement("div",{className:Object(o.a)({backgroundColor:n,color:"white",padding:"16px 67px",position:"relative"})},i.a.createElement(y,{name:t,size:43,css:Object(o.a)({position:"absolute",left:16,top:16})}),i.a.createElement("div",null,i.a.createElement("div",null,e.format("YYYY/MM/DD HH:mm:ss")),i.a.createElement("div",{className:Object(o.a)({fontSize:20,fontWeight:"bold",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},i.a.createElement("a",{href:r,className:Object(o.a)({color:"white",textDecoration:"none",":hover":{textDecoration:"underline"}})},a))));var X,Z,ee=Object(g.b)(({checked:e,following:t,searchState:a,anyzaka:r})=>({checked:e,following:t,searchState:a,anyzaka:r}))((Q((H=class extends r.Component{constructor(){super(),this.$base=Object(r.createRef)()}onClickCheck(){const{props:{dispatch:e,article:{url:t}}}=this,{$base:{current:a}}=this;e(c.a.toggleChecked(t)),Object(w.e)(a)}onClickLink(e){e.preventDefault();const{currentTarget:{href:t}}=e;L.shell.openExternal(t)}componentDidMount(){const{$base:{current:e}}=this;V.a.forEach(e.querySelectorAll("a"),e=>{e.addEventListener("click",this.onClickLink)})}render(){const{props:{article:e,checked:t,following:a,searchState:r,css:n="",anyzaka:c}}=this,{author:l,html:d,url:p,id:u,debug:m}=e,h=m?"gray":c.getGroupColorFromMember(l),g=m||!t.includes(p);return i.a.createElement("div",{className:Object(o.a)(n,s,m||e.visible(a,r)?null:{height:0,marginBottom:0,overflow:"hidden"},{position:"relative"}),ref:this.$base,"data-article-id":u},i.a.createElement(K,{article:e,color:h}),i.a.createElement("div",{className:Object(o.a)({marginTop:16,padding:"0 16px 16px",position:"relative",img:{maxWidth:"100%"},video:{maxWidth:"100%",display:"block"},display:g?"block":"none"})},i.a.createElement("div",{className:Object(o.a)({"p:last-child":{marginBottom:0}}),dangerouslySetInnerHTML:{__html:d}})),i.a.createElement(O.a,{size:43,onClick:this.onClickCheck,className:Object(o.a)({position:"absolute",right:16,bottom:16,cursor:"pointer"},g?{fill:"lightgray","&:hover":{fill:h}}:{fill:"white"})}))}}).prototype,"onClickCheck",[n.a],Object.getOwnPropertyDescriptor(H.prototype,"onClickCheck"),H.prototype),Q(H.prototype,"onClickLink",[n.a],Object.getOwnPropertyDescriptor(H.prototype,"onClickLink"),H.prototype),J=H))||J,te=a(321);function ae(e,t,a,r,i){var n={};return Object.keys(r).forEach((function(e){n[e]=r[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce((function(a,r){return r(e,t,a)||a}),n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}let re=Object(g.b)(({openFilterIndex:e,following:t,anyzaka:a})=>({openFilterIndex:e,following:t,anyzaka:a}))((ae((Z=class extends r.Component{onClickFilter(e){const{currentTarget:{dataset:{strkey:t}}}=e,{props:{dispatch:a,openFilterIndex:r}}=this,i=parseInt(t);a(c.a.setFilter(i===r?-1:i))}onClickFilterMember(e){const{props:{dispatch:t}}=this,{currentTarget:{dataset:{member:a}}}=e;t(c.a.toggleFollowing(a))}render(){const{props:{following:e,openFilterIndex:t,anyzaka:a}}=this,r=a.get("slopes");return i.a.createElement("div",{className:Object(o.a)(s,{padding:8})},i.a.createElement("div",{className:Object(o.a)({marginBottom:4})},r.map((a,r)=>i.a.createElement("span",{onClick:this.onClickFilter,key:r,"data-strkey":r,className:Object(o.a)({color:a.get("color"),cursor:"pointer",i:{verticalAlign:"middle"}})},t===r?i.a.createElement(O.c,{className:Object(o.a)({verticalAlign:"middle"})}):i.a.createElement(O.d,{className:Object(o.a)({verticalAlign:"middle"})}),i.a.createElement("span",{className:Object(o.a)({fontWeight:"bold",marginRight:2,verticalAlign:"middle"})},a.get("name")),a.get("members").map(a=>{const n=a.get("name");return e.includes(n)&&t!==r?i.a.createElement(y,{name:n,size:24,key:n}):null})))),i.a.createElement("div",{className:Object(o.a)({display:"flex",flexWrap:"wrap"})},r.map((a,r)=>t===r?a.get("members").map(t=>{const a=t.get("name");return i.a.createElement("div",{onClick:this.onClickFilterMember,key:a,"data-member":a,className:Object(o.a)(s,{display:"flex",alignItems:"center",marginRight:8,marginBottom:8,padding:4,borderRadius:4,cursor:"pointer",opacity:e.includes(a)?1:.5,"> :first-of-type":{marginRight:4}})},i.a.createElement(y,{name:a,size:36}),i.a.createElement("span",null,a))}):null)))}}).prototype,"onClickFilter",[n.a],Object.getOwnPropertyDescriptor(Z.prototype,"onClickFilter"),Z.prototype),ae(Z.prototype,"onClickFilterMember",[n.a],Object.getOwnPropertyDescriptor(Z.prototype,"onClickFilterMember"),Z.prototype),X=Z))||X;var ie,ne,oe=a(104);function ce(e,t,a,r,i){var n={};return Object.keys(r).forEach((function(e){n[e]=r[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce((function(a,r){return r(e,t,a)||a}),n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}let se=Object(g.b)(({articles:e,loading:t,anyzaka:a})=>({articles:e,loading:t,anyzaka:a}))((ce((ne=class extends r.Component{constructor(){super(),this.$loading=Object(r.createRef)(),this.$articles=Object(r.createRef)(),this.prevloadingIsVisible=!0}async fetch(){const{props:{anyzaka:e}}=this,t=e.get("slopes"),{size:a}=t,r=[];for(let e=0;e<a;e+=1){const a=t.get(e);r.push(await oe[a.get("fetcher")].fetch(a).catch(e=>(console.error(`Failed to fetch (${a.get("name")})`,e),[])))}return r}componentDidMount(){const{props:{dispatch:e}}=this;e(c.a.init()).then(()=>{e(c.a.addArticles(this.fetch())),this.watchLoading()})}loadAndAddArticles(){const{props:{dispatch:e}}=this;e(c.a.startToLoadArticles()),e(c.a.addArticles(this.fetch()))}onClickResetFilter(){const{props:{dispatch:e}}=this;e(c.a.setFilter(-1))}watchLoading(){const{$loading:{current:e},prevloadingIsVisible:t,props:{loading:a}}=this,{top:r}=e.getBoundingClientRect(),i=innerHeight>=r;!t&&i&&a.can()&&this.loadAndAddArticles(),this.prevloadingIsVisible=i,requestAnimationFrame(this.watchLoading)}onClickLoad(){this.loadAndAddArticles()}render(){const{props:{articles:e,loading:t}}=this;return i.a.createElement("div",{className:Object(o.a)(p,{display:"flex",flexDirection:"column"})},i.a.createElement("div",{className:l}),i.a.createElement("div",{ref:this.$articles,onClick:this.onClickResetFilter,className:Object(o.a)({flex:1,overflow:"scroll",position:"relative"})},i.a.createElement("div",{className:Object(o.a)({minWidth:960,padding:"0 16px",marginLeft:"auto",marginRight:"auto"})},e.map(e=>i.a.createElement(ee,{article:e,key:e.id,css:Object(o.a)({marginBottom:16})})),i.a.createElement("div",{ref:this.$loading,className:Object(o.a)({margin:"16px 0",textAlign:"center"})},t.now()?i.a.createElement(te.a,{css:Object(o.a)({display:"inline-block"})}):i.a.createElement("div",{onClick:this.onClickLoad,className:Object(o.a)({color:"rgb(233, 30, 99)",border:"1px solid rgb(233, 30, 99)",padding:"4px 8px",borderRadius:4,cursor:"pointer"})},"さらに記事を読み込む")))),i.a.createElement(re,null))}}).prototype,"onClickResetFilter",[n.a],Object.getOwnPropertyDescriptor(ne.prototype,"onClickResetFilter"),ne.prototype),ce(ne.prototype,"watchLoading",[n.a],Object.getOwnPropertyDescriptor(ne.prototype,"watchLoading"),ne.prototype),ce(ne.prototype,"onClickLoad",[n.a],Object.getOwnPropertyDescriptor(ne.prototype,"onClickLoad"),ne.prototype),ie=ne))||ie;var le,de;let pe=Object(g.b)()((function(e,t,a,r,i){var n={};Object.keys(r).forEach((function(e){n[e]=r[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=a.slice().reverse().reduce((function(a,r){return r(e,t,a)||a}),n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null)}((de=class extends r.PureComponent{constructor(){super(),L.ipcRenderer.on("menu:preferences",this.onClickPreferencesOfMenuItem)}onClickPreferencesOfMenuItem(){const{props:{dispatch:e}}=this;e(c.a.setPreferencesState(!0))}render(){return i.a.createElement("div",{className:Object(o.a)({width:"100%",height:"100%",display:"flex",flexDirection:"row"})},i.a.createElement(F,null),i.a.createElement(se,null),i.a.createElement(U,null),i.a.createElement(B.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!1,pauseOnHover:!0}))}}).prototype,"onClickPreferencesOfMenuItem",[n.a],Object.getOwnPropertyDescriptor(de.prototype,"onClickPreferencesOfMenuItem"),de.prototype),le=de))||le;t.default=pe},76:function(e,t){e.exports=require("assert")},81:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(29),i=a(49),n=a.n(i),o=a(4),c=a.n(o);class s extends(Object(r.b)({id:"",date:new Date,title:"",author:"",html:"",content:"",temporaryVisible:!1,url:"",filtered:!1,debug:!1})){constructor(e){e.title||(e.title="(No title)"),super(c.a.merge(e,{id:n()()}))}visible(e,t){const{author:a,temporaryVisible:r,filtered:i}=this;return t.searched()?t.test(this)&&e.includes(a)&&!i||r:e.includes(a)&&!i||r}}},92:function(e,t){e.exports=require("stream")},94:function(e,t){e.exports=require("electron")}});