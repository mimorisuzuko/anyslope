!function(e){function t(t){for(var n,o,c=t[0],l=t[1],s=t[2],p=0,d=[];p<c.length;p++)o=c[p],a[o]&&d.push(a[o][0]),a[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,s||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,c=1;c<r.length;c++){var l=r[c];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={0:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="http://localhost:3000/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;i.push([238,1]),r()}({102:function(e,t){e.exports=require("net")},103:function(e,t){e.exports=require("http")},108:function(e,t){e.exports=require("os")},12:function(e,t){e.exports=require("crypto")},139:function(e,t){e.exports=require("punycode")},14:function(e,t){e.exports=require("path")},141:function(e,t){e.exports=require("https")},142:function(e,t){e.exports=require("querystring")},155:function(e){e.exports=[{name:"日向坂46",color:"rgb(81, 182, 224)",members:["井口眞緒","潮紗理菜","柿崎芽実","影山優佳","加藤史帆","齊藤京子","佐々木久美","佐々木美玲","高瀬愛奈","高本彩花","東村芽依","金村美玖","河田陽菜","小坂菜緒","富田鈴花","丹生明里","濱岸ひより","松田好花","宮田愛萌","渡邉美穂","上村ひなの"]},{name:"欅坂46",color:"rgb(84, 176, 74)",members:["石森虹花","上村莉菜","尾関梨香","織田奈那","小池美波","小林由依","齋藤冬優花","佐藤詩織","菅井友香","鈴本美愉","長沢菜々香","長濱ねる","土生瑞穂","原田葵","平手友梨奈","守屋茜","渡辺梨加","渡邉理佐","井上梨名","関有美子","武元唯衣","田村保乃","藤吉夏鈴","松田里奈","松平璃子","森田ひかる","山﨑天"]},{name:"乃木坂46",color:"rgb(118, 37, 133)",members:["秋元真夏","生田絵梨花","伊藤かりん","伊藤純奈","伊藤理々杏","井上小百合","岩本蓮加","梅澤美波","衛藤美彩","大園桃子","北野日奈子","久保史緒里","齋藤飛鳥","斉藤優里","阪口珠美","桜井玲香","佐々木琴子","佐藤楓","白石麻衣","新内眞衣","鈴木絢音","高山一実","寺田蘭世","中田花奈","中村麗乃","樋口日奈","星野みなみ","堀未央奈","松村沙友理","向井葉月","山崎怜奈","山下美月","吉田綾乃クリスティー","与田祐希","渡辺みり愛","和田まあや","遠藤さくら","賀喜遥香","掛橋沙耶香","金川紗耶","北川悠理","柴田柚菜","清宮レイ","田村真佑","筒井あやめ","早川聖来","矢久保美緒"]}]},199:function(e,t){e.exports=require("buffer")},206:function(e,t){e.exports=require("tls")},238:function(e,t,r){r(239),e.exports=r(405)},405:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),i=r(232),o=r.n(i),c=r(237);r(410);const l=document.querySelector("main");(()=>{const{default:e}=r(594);o.a.render(a.a.createElement(c.AppContainer,null,a.a.createElement(e,null)),l)})()},410:function(e,t,r){var n=r(411);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r(413)(n,a);n.locals&&(e.exports=n.locals)},411:function(e,t,r){(e.exports=r(412)(!1)).push([e.i,'@charset "UTF-8";\nhtml,\nbody,\nmain {\n  width: 100%;\n  height: 100%; }\n\nbody {\n  margin: 0;\n  font-family: Helvetica Neue, Helvetica, Arial, ヒラギノ角ゴ Pro W3, Hiragino Kaku Gothic Pro, メイリオ, Meiryo, ＭＳ Ｐゴシック, MS PGothic, sans-serif; }\n',""])},415:function(e,t){},435:function(e,t){e.exports=require("zlib")},53:function(e,t){e.exports=require("url")},535:function(e,t){e.exports=require("events")},54:function(e,t){e.exports=require("assert")},543:function(e,t){e.exports=require("constants")},594:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),i=r(41),o=r(10),c=r.n(o),l=r(233),s=r(155),u=r(156),p=r.n(u);const d=new DOMParser,m=new l.a,h=async(e=0)=>c.a.sortBy(c.a.concat(await g(e),await f(e)),({date:e})=>-e),f=async(e=0)=>{const t=await p()(`http://blog.nogizaka46.com/?p=${e+1}`),r=d.parseFromString(t,"text/html"),n=r.querySelectorAll(".author"),a=r.querySelectorAll("h1 .entrytitle"),i=r.querySelectorAll(".entrybody"),o=r.querySelectorAll(".entrybottom"),{length:c}=o,l=[];for(let e=0;e<c;e+=1)l.push({date:new Date(o[e].childNodes[0].nodeValue.slice(0,-1)),title:a[e].innerText,name:n[e].innerText.replace(/\s/g,""),content:m.turndown(i[e].innerHTML).trim()});return l},g=async(e=0)=>{const t=await p()(`http://www.keyakizaka46.com/s/k46o/diary/member/list?page=${e}`);return c.a.map(d.parseFromString(t,"text/html").querySelectorAll("article"),e=>{const{innerText:t}=e.querySelector(".box-bottom li"),{innerText:r}=e.querySelector("h3"),{innerText:n}=e.querySelector(".name");return{date:new Date(t),title:r.trim(),name:n.replace(/\s/g,""),content:m.turndown(e.querySelector(".box-article").innerHTML).trim()}})};const b=new class{json(){return s}getGroupColorFromMember(e){let t=null;return c.a.forEach(s,({members:r,color:n})=>{c.a.includes(r,e)&&(t=n)}),t}toMemberIconPath(e){return`assets/icons/${e}.jpg`}},y=e=>{const{name:t,title:r}=e;return`${t}-${r}`};var k=r(234),w=r(235),v=r.n(w),x=r(9);var O=class extends n.Component{render(){const{props:{name:e,size:t=48}}=this;return a.a.createElement("i",{className:Object(x.a)({display:"inline-block",borderRadius:"50%",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:`url("${b.toMemberIconPath(e)}")`,width:t,height:t})})}},C=r(74);const j=Object(x.a)({boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2)"});var S;var E,q,z,A,N,P,M,T=(E=(S=class extends n.Component{constructor(){super(),this.$base=Object(n.createRef)()}onClickCheck(e){const{props:{onClickCheck:t}}=this,{$base:{current:{offsetTop:r}}}=this,{currentTarget:{dataset:{key:n}}}=e;t(n),scroll({top:r})}render(){const{props:{article:e,checkedList:t}}=this,{title:r,name:n,date:i,content:o}=e,l=b.getGroupColorFromMember(n),s=c.a.includes(t,y(e));return a.a.createElement("div",{className:j,ref:this.$base},a.a.createElement("div",{className:Object(x.a)({backgroundColor:l,color:"white",padding:16,display:"flex",alignItems:"center","> :first-of-type":{marginRight:8}})},a.a.createElement("div",null,a.a.createElement(O,{name:n,size:43})),a.a.createElement("div",{className:Object(x.a)({flex:1})},a.a.createElement("div",null,k.a.format(i,"YY/MM/DD HH:mm:ss")),a.a.createElement("div",{className:Object(x.a)({fontSize:20,fontWeight:"bold"})},r)),s?a.a.createElement(C.GoCheck,{size:36,fill:"white",onClick:this.onClickCheck,"data-key":y(e),className:Object(x.a)({cursor:"pointer"})}):null),s?null:a.a.createElement("div",{className:Object(x.a)({padding:"0 16px 16px",position:"relative",img:{maxWidth:"100%",display:"block"}})},a.a.createElement("div",{dangerouslySetInnerHTML:{__html:v()(o)}}),a.a.createElement(C.GoCheck,{size:36,onClick:this.onClickCheck,"data-key":y(e),className:Object(x.a)({position:"absolute",right:16,bottom:16,cursor:"pointer",fill:"lightgray","&:hover":{fill:l}})})))}}).prototype,q="onClickCheck",z=[i.a],A=Object.getOwnPropertyDescriptor(S.prototype,"onClickCheck"),N=S.prototype,P={},Object.keys(A).forEach(function(e){P[e]=A[e]}),P.enumerable=!!P.enumerable,P.configurable=!!P.configurable,("value"in P||P.initializer)&&(P.writable=!0),P=z.slice().reverse().reduce(function(e,t){return t(E,q,e)||e},P),N&&void 0!==P.initializer&&(P.value=P.initializer?P.initializer.call(N):void 0,P.initializer=void 0),void 0===P.initializer&&(Object.defineProperty(E,q,P),P=null),S);function H(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let D=(H((M=class extends n.Component{constructor(){super(),this.state={open:!1}}onClick(e){const{currentTarget:{dataset:{name:t}}}=e,{props:{onClick:r}}=this;r(t)}onClickHeader(){this.setState(({open:e})=>({open:!e}))}render(){const{props:{json:{name:e,members:t,color:r},following:n},state:{open:i}}=this;return a.a.createElement("div",{className:Object(x.a)({marginBottom:8})},a.a.createElement("div",{className:Object(x.a)({fontWeight:"bold",cursor:"pointer",i:{verticalAlign:"middle"},color:r}),onClick:this.onClickHeader},i?a.a.createElement(C.GoTriangleDown,null):a.a.createElement(C.GoTriangleRight,null),a.a.createElement("span",{className:Object(x.a)({marginRight:4})},e),i?null:c.a.map(t,(e,t)=>c.a.includes(n,e)?a.a.createElement(O,{name:e,size:24,key:t}):null)),a.a.createElement("div",{className:Object(x.a)({display:"flex",flexWrap:"wrap"})},i?c.a.map(t,(e,t)=>a.a.createElement("div",{onClick:this.onClick,key:t,"data-name":e,className:Object(x.a)(j,{display:"flex",alignItems:"center",marginRight:8,marginBottom:8,padding:4,borderRadius:4,cursor:"pointer",opacity:c.a.includes(n,e)?1:.5,"> :first-of-type":{marginRight:4}})},a.a.createElement(O,{name:e,size:36}),a.a.createElement("span",null,e))):null))}}).prototype,"onClick",[i.a],Object.getOwnPropertyDescriptor(M.prototype,"onClick"),M.prototype),H(M.prototype,"onClickHeader",[i.a],Object.getOwnPropertyDescriptor(M.prototype,"onClickHeader"),M.prototype),M);var L,R=r(89),$=r.n(R),B=r(108),G=r.n(B),_=r(14),F=r.n(_),I=r(236);function W(e,t,r,n,a){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),a&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(a):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const J=F.a.join(G.a.homedir(),".anyzaka");let Y=(W((L=class extends n.Component{constructor(){super(),this.page=0,this.$loading=Object(n.createRef)(),this.state={articles:[],following:[],checked:[],loading:!0},(async()=>{await $.a.exists(J)||await $.a.writeJSON(J,{checked:[],following:[]});const{following:e,checked:t}=await $.a.readJSON(J);await this.setStateAsync({following:e,checked:t}),await this.loadAndAddArticles()})().catch(console.error)}componentDidMount(){this.watchLoading()}async setStateAsync(e){return new Promise(t=>{this.setState(e,t)})}async loadAndAddArticles(){const{state:{articles:e},page:t}=this;await this.setStateAsync({articles:c.a.concat(e,await h(t))}),this.page+=1,await this.setStateAsync({loading:!1})}async writeState(){const{state:{following:e,checked:t}}=this;await $.a.writeJSON(J,{following:e,checked:t})}watchLoading(){const{$loading:{current:e},state:{loading:t}}=this,{top:r}=e.getBoundingClientRect();innerHeight>=r&&!t?(async()=>{await this.loadAndAddArticles()})().catch(console.error).finally(()=>{requestAnimationFrame(this.watchLoading)}):requestAnimationFrame(this.watchLoading)}onScroll(){const{state:{loading:e}}=this,{documentElement:{scrollHeight:t}}=document;scrollY!==t-innerHeight||e||this.setState({loading:!0},this.loadAndAddArticles)}onClickMember(e){const{state:{following:t}}=this;(async()=>{await this.setStateAsync({following:c.a.includes(t,e)?c.a.pull(t,e):c.a.concat(t,e)}),await this.writeState()})().catch(console.error)}onClickCheck(e){const{state:{checked:t}}=this;(async()=>{await this.setStateAsync({checked:c.a.includes(t,e)?c.a.pull(t,e):c.a.concat(t,e)}),await this.writeState()})().catch(console.error)}render(){const{state:{articles:e,following:t,checked:r}}=this;return a.a.createElement("div",{className:Object(x.a)({paddingBottom:16})},a.a.createElement("div",{className:Object(x.a)(j,{backgroundColor:"rgb(233, 30, 99)",color:"white",fontWeight:"bold",fontSize:40,padding:16,marginBottom:16})},"推しのブログみるやつ"),a.a.createElement("div",{className:Object(x.a)({width:960,marginLeft:"auto",marginRight:"auto"})},a.a.createElement("div",{className:Object(x.a)({marginBottom:16})},c.a.map(b.json(),(e,r)=>a.a.createElement(D,{json:e,key:r,following:t,onClick:this.onClickMember}))),a.a.createElement("div",{className:Object(x.a)({"> div":{marginBottom:16}})},c.a.map(e,(e,n)=>{const{name:i}=e;return c.a.includes(t,i)?a.a.createElement(T,{checkedList:r,article:e,key:n,onClickCheck:this.onClickCheck}):null}))),a.a.createElement("div",{ref:this.$loading,className:Object(x.a)({textAlign:"center","> div":{display:"inline-block"}})},a.a.createElement(I.BeatLoader,null)))}}).prototype,"watchLoading",[i.a],Object.getOwnPropertyDescriptor(L.prototype,"watchLoading"),L.prototype),W(L.prototype,"onScroll",[i.a],Object.getOwnPropertyDescriptor(L.prototype,"onScroll"),L.prototype),W(L.prototype,"onClickMember",[i.a],Object.getOwnPropertyDescriptor(L.prototype,"onClickMember"),L.prototype),W(L.prototype,"onClickCheck",[i.a],Object.getOwnPropertyDescriptor(L.prototype,"onClickCheck"),L.prototype),L);t.default=Y},66:function(e,t){e.exports=require("stream")},8:function(e,t){e.exports=require("util")},87:function(e,t){e.exports=require("fs")}});